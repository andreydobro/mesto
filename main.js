(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r,o){var i=r.handleCardClick,u=r.handleAddLike,a=r.handleRemoveLike,c=r.handleDeleteButoonClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e.name,this._link=e.link,this._cardSelector=n,this._handleCardClick=i,this._handleAddLike=u,this._handleRemoveLike=a,this._handleDeleteButoonClick=c,this._userId=o,this._likeArray=e.likes,this._owner=e.owner,this._likes=e.likes,this._cardId=e._id}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"handleDeleteCard",value:function(){this._element.remove(),this._element=null}},{key:"_addLike",value:function(){this._likeButton.classList.contains("element__like_active")?this._handleRemoveLike(this):this._handleAddLike(this)}},{key:"_setStateLike",value:function(e){var t=this;e.find((function(e){return e._id===t._userId}))?this._likeButton.classList.add("element__like_active"):this._likeButton.classList.remove("element__like_active")}},{key:"_setEventListeners",value:function(){var e=this;this._deleteButton.addEventListener("click",(function(){e._handleDeleteButoonClick(e._cardId)})),this._likeButton.addEventListener("click",(function(){e._addLike()})),this._cardImage.addEventListener("click",(function(){e._handleCardClick()}))}},{key:"setLikeInfo",value:function(e){this._likeArray=e,this._likeCount.textContent=this._likeArray.length,this._setStateLike(this._likeArray)}},{key:"createCard",value:function(){return this._element=this._getTemplate(),this._cardImage=this._element.querySelector(".element__foto"),this._cardName=this._element.querySelector(".element__title"),this._likeButton=this._element.querySelector(".element__like"),this._deleteButton=this._element.querySelector(".element__back"),this._likeCount=this._element.querySelector(".element__like-count"),this._cardName.textContent=this._name,this._cardImage.src=this._link,this._cardImage.alt=this._name,this._likeCount.textContent=this._likes.length,this._setStateLike(this._likes),this._userId!==this._owner._id&&this._deleteButton.remove(),this._setEventListeners(),this._element}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formElement=n,this._buttonElement=this._formElement.querySelector(this._submitButtonSelector),this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector))}var t,r;return t=e,(r=[{key:"_showInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_addDisabledButton",value:function(){this._buttonElement.disabled=!0,this._buttonElement.classList.add(this._inactiveButtonClass)}},{key:"_removeDisabledButton",value:function(){this._buttonElement.disabled=!1,this._buttonElement.classList.remove(this._inactiveButtonClass)}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._addDisabledButton():this._removeDisabledButton()}},{key:"enableValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"resetValidation",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)})),this._toggleButtonState()}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"_handleEscClose",(function(e){"Escape"===e.key&&n.close()})),i(this,"_handleClickOverlayPopup",(function(e){e.target===n._popup&&n.close()})),this._popup=document.querySelector(t)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".popup__icon-close").addEventListener("click",(function(){e.close()})),this._popup.addEventListener("mousedown",this._handleClickOverlayPopup)}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=s(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},l.apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function u(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,n))._popup=document.querySelector(n),t._formPopup=t._popup.querySelector(".popup__form"),t._inputList=t._popup.querySelectorAll(".popup__input"),t._handleFormSubmit=r,t._buttonPopup=t._popup.querySelector(".popup__button-save"),t._initialText=t._buttonPopup.textContent,t}return t=u,(n=[{key:"getFormPopup",value:function(){return this._formPopup}},{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){return e._formValues[t.name]=t.value})),console.log(this._formValues),this._formValues}},{key:"setInputValues",value:function(e){this._inputList.forEach((function(t){return t.value=e[t.name]}))}},{key:"setEventListeners",value:function(){var e=this;l(h(u.prototype),"setEventListeners",this).call(this),this._formPopup.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"renderLoading",value:function(e){this._buttonPopup.textContent=e?"Сохранение...":this._initialText}},{key:"close",value:function(){this._formPopup.reset(),l(h(u.prototype),"close",this).call(this)}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(u);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=m(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},v.apply(this,arguments)}function m(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function k(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(r);if(o){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return k(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._image=t._popup.querySelector(".popup__image-foto"),t._imageName=t._popup.querySelector(".popup__text"),t}return t=u,(n=[{key:"open",value:function(e){this._image.src=e.link,this._image.alt=e.name,this._imageName.textContent=e.name,v(g(u.prototype),"open",this).call(this)}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(u);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=L(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},O.apply(this,arguments)}function L(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function P(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(o){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return P(this,e)});function u(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,n))._popup=document.querySelector(n),t._formPopup=t._popup.querySelector(".popup__form"),t._buttonPopup=t._popup.querySelector(".popup__button-save"),t._handleFormSubmit=r,t._initialText=t._buttonPopup.textContent,t}return t=u,(n=[{key:"open",value:function(e){this._data=e,O(j(u.prototype),"open",this).call(this)}},{key:"setEventListeners",value:function(){var e=this;O(j(u.prototype),"setEventListeners",this).call(this),this._formPopup.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._data)}))}},{key:"renderLoading",value:function(e){this._buttonPopup.textContent=e?"Сохранение...":this._initialText}},{key:"close",value:function(){this._formPopup.reset(),O(j(u.prototype),"close",this).call(this)}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(u);function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.reverse().forEach((function(e){return t._renderer(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(t){var n=t.nameSelector,r=t.jobSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameElement=document.querySelector(n),this._aboutElement=document.querySelector(r),this._avatarElement=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this._profileObject={},this._profileObject.name=this._nameElement.textContent,this._profileObject.about=this._aboutElement.textContent,this._profileObject}},{key:"setUserInfo",value:function(e){this._nameElement.textContent=e.name,this._aboutElement.textContent=e.about,this._avatarElement.src=e.avatar}},{key:"setUserId",value:function(e){return e._id}},{key:"userId",value:function(){return this._id}},{key:"setUserAvatar",value:function(e){this._avatarElement.src=e.avatar}}])&&B(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x,D,U=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._header=t.headers}var t,n;return t=e,(n=[{key:"_requestResult",value:function(e){return e.ok?e.json():Promise.reject("Ошибка ".concat(e.status," - ").concat(e.statusText))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._header}).then(this._requestResult)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._header}).then(this._requestResult)}},{key:"editUserInfo",value:function(e,t){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._header,body:JSON.stringify({name:e,about:t})}).then(this._requestResult)}},{key:"editUserAvatar",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._header,body:JSON.stringify({avatar:e})}).then(this._requestResult)}},{key:"createCard",value:function(e,t){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._header,body:JSON.stringify({name:e,link:t})}).then(this._requestResult)}},{key:"addLikeCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this._header}).then(this._requestResult)}},{key:"removeLikeCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this._header}).then(this._requestResult)}},{key:"deleteCard",value:function(e){return console.log(e),fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._header}).then(this._requestResult)}}])&&A(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),V=(document.querySelector(".popup__image-foto"),document.querySelector(".popup__text"),document.querySelector(".profile__edit-button")),F=document.querySelector(".profile__add-button"),N=document.querySelector(".profile__avatar");function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var H=new U({url:"https://mesto.nomoreparties.co/v1/cohort-52",headers:{authorization:"df12ed01-f693-4b5e-b6fe-aa462d0d5b58","Content-Type":"application/json"}}),M=new R({renderer:function(e){M.addItem($(e))}},".elements"),z=[H.getUserInfo(),H.getInitialCards()];function $(e){var n=new t(e,".template",{handleCardClick:function(){G.open(e)},handleAddLike:function(){H.addLikeCard(e._id).then((function(e){n.setLikeInfo(e.likes)})).catch((function(e){console.log("Ошибка при добавлении Like карточки",e)}))},handleRemoveLike:function(){H.removeLikeCard(e._id).then((function(e){n.setLikeInfo(e.likes)})).catch((function(e){console.log("Ошибка при удалении Like карточки",e)}))},handleDeleteButoonClick:function(e){Y.open(e),D=n}},x);return n.createCard()}Promise.all(z).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];Q.setUserInfo(o),Q.setUserId(o),x=o._id,M.renderItems(i)})).catch((function(e){console.log("Ошибка: ".concat(e))}));var G=new S(".popup_image");G.setEventListeners(),F.addEventListener("click",(function(){K.open();var e=K.getFormPopup();ee[e.getAttribute("name")].resetValidation()}));var K=new d({popupSelector:".popup-add",handleFormSubmit:function(e){K.renderLoading(!0),H.createCard(e.name,e.link).then((function(e){M.addItem($(e)),K.close()})).catch((function(e){console.log("Ошибка при добавлении новой карточки",e)})).finally((function(){K.renderLoading(!1)}))}});K.setEventListeners();var Q=new T({nameSelector:".profile__name",jobSelector:".profile__about",avatarSelector:".profile__avatar"}),W=new d({popupSelector:".popup-edit",handleFormSubmit:function(e){W.renderLoading(!0),H.editUserInfo(e.name,e.about).then((function(e){Q.setUserInfo(e),W.close()})).catch((function(e){console.log("Ошибка при редактировании профиля",e)})).finally((function(){W.renderLoading(!1)}))}});W.setEventListeners(),V.addEventListener("click",(function(){W.open();var e=W.getFormPopup(),t=Q.getUserInfo();W.setInputValues(t),ee[e.getAttribute("name")].resetValidation()})),N.addEventListener("click",(function(){X.open();var e=X.getFormPopup();ee[e.getAttribute("name")].resetValidation()}));var X=new d({popupSelector:".popup-avatar",handleFormSubmit:function(e){X.renderLoading(!0),H.editUserAvatar(e.avatar).then((function(e){Q.setUserAvatar(e),X.close()})).catch((function(e){console.log("Ошибка при редактировании аватара",e)})).finally((function(){X.renderLoading(!1)}))}});X.setEventListeners();var Y=new I({popupSelector:".popup-confirm",handleFormSubmit:function(e){Y.renderLoading(!0),H.deleteCard(e).then((function(){D.handleDeleteCard(),Y.close()})).catch((function(e){console.log("Ошибка при подтверждении удаления карточки",e)})).finally((function(){Y.renderLoading(!1)}))}});Y.setEventListeners();var Z,ee={};Z={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button-save",popupErrorSelector:".popup__error",inactiveButtonClass:"popup__button-save_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},Array.from(document.querySelectorAll(Z.formSelector)).forEach((function(e){var t=new r(Z,e),n=e.getAttribute("name");ee[n]=t,t.enableValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SyxTQUFBbEIsR0FDSmdELEVBQVNzQixjQUFjdEUsR0FDdkJtRSxFQUFnQmxILE9BQ2xCLElBQ0N3RixPQUFNLFNBQUNDLEdBQ04xRSxRQUFRQyxJQUFJLG9DQUFxQ3lFLEVBQ25ELElBQ0NrQixTQUFRLFdBQ1BPLEVBQWdCUixlQUFjLEVBQ2hDLEdBQ0osSUFFRlEsRUFBZ0JmLG9CQUdoQixJQUFNUixFQUFtQixJQUFJakUsRUFBaUIsQ0FDNUM3QixjQUFlLGlCQUNmVSxpQkFBa0IsU0FBQ29CLEdBQ2pCZ0UsRUFBaUJlLGVBQWMsR0FDL0IvQixFQUFJMkMsV0FBVzNGLEdBQ1pzQyxNQUFLLFdBQ0pmLEVBQVdxRSxtQkFDWDVCLEVBQWlCM0YsT0FDbkIsSUFDQ3dGLE9BQU0sU0FBQ0MsR0FDTjFFLFFBQVFDLElBQUksNkNBQThDeUUsRUFDNUQsSUFDQ2tCLFNBQVEsV0FDUGhCLEVBQWlCZSxlQUFjLEVBQ2pDLEdBQ0osSUFFRmYsRUFBaUJRLG9CQUVqQixJQUMwQi9DLEVBRHBCbUQsR0FBaUIsQ0FBQyxFQUNFbkQsRUUzS00sQ0FDNUJvRSxhQUFjLGVBQ2QxSixjQUFlLGdCQUNmRSxxQkFBc0Isc0JBQ3RCeUosbUJBQW9CLGdCQUNwQnZKLG9CQUFxQiw4QkFDckJFLGdCQUFpQiwwQkFDakJFLFdBQVksd0JGcUtHSSxNQUFNQyxLQUFLM0MsU0FBUzRDLGlCQUFpQndFLEVBQU9vRSxlQUNwRDlILFNBQVEsU0FBQzlCLEdBQ2hCLElBQU04SixFQUFZLElBQUloSyxFQUFjMEYsRUFBUXhGLEdBQ3RDK0osRUFBVy9KLEVBQVk0SSxhQUFhLFFBQzFDRCxHQUFlb0IsR0FBWUQsRUFDM0JBLEVBQVVFLGtCQUNaLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgICBjb25zdHJ1Y3RvcihkYXRhT2JqLCBjYXJkU2VsZWN0b3IsIHtoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZUFkZExpa2UsIGhhbmRsZVJlbW92ZUxpa2UsIGhhbmRsZURlbGV0ZUJ1dG9vbkNsaWNrfSwgdXNlcklkKSB7XG4gICAgICAgIHRoaXMuX25hbWUgPSBkYXRhT2JqLm5hbWU7XG4gICAgICAgIHRoaXMuX2xpbmsgPSBkYXRhT2JqLmxpbms7XG4gICAgICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgICAgICB0aGlzLl9oYW5kbGVBZGRMaWtlID0gaGFuZGxlQWRkTGlrZTtcbiAgICAgICAgdGhpcy5faGFuZGxlUmVtb3ZlTGlrZSA9IGhhbmRsZVJlbW92ZUxpa2U7XG4gICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dG9vbkNsaWNrID0gaGFuZGxlRGVsZXRlQnV0b29uQ2xpY2s7XG4gICAgICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcbiAgICAgICAgdGhpcy5fbGlrZUFycmF5ID0gZGF0YU9iai5saWtlcztcbiAgICAgICAgdGhpcy5fb3duZXIgPSBkYXRhT2JqLm93bmVyXG4gICAgICAgIHRoaXMuX2xpa2VzID0gZGF0YU9iai5saWtlcztcbiAgICAgICAgdGhpcy5fY2FyZElkID0gZGF0YU9iai5faWQ7XG4gICAgfVxuXG4gICAgX2dldFRlbXBsYXRlKCkge1xuICAgICAgICBjb25zdCBuZXdDYXJkID0gZG9jdW1lbnRcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcikuY29udGVudFxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50JylcbiAgICAgICAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIG5ld0NhcmQ7XG4gICAgfVxuXG4gICAgaGFuZGxlRGVsZXRlQ2FyZCgpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgX2FkZExpa2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnZWxlbWVudF9fbGlrZV9hY3RpdmUnKSkge1xuICAgICAgICAgIHRoaXMuX2hhbmRsZVJlbW92ZUxpa2UodGhpcylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9oYW5kbGVBZGRMaWtlKHRoaXMpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgIF9zZXRTdGF0ZUxpa2UoYXJyYXkpIHtcbiAgICAgICAgaWYgKGFycmF5LmZpbmQoaXRlbSA9PiBpdGVtLl9pZCA9PT0gdGhpcy5fdXNlcklkKSkge1xuICAgICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnZWxlbWVudF9fbGlrZV9hY3RpdmUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2VsZW1lbnRfX2xpa2VfYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvblxuICAgICAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dG9vbkNsaWNrKHRoaXMuX2NhcmRJZCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9saWtlQnV0dG9uXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkTGlrZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fY2FyZEltYWdlXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKCk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXRMaWtlSW5mbyhhcnJheSkge1xuICAgICAgICB0aGlzLl9saWtlQXJyYXkgPSBhcnJheTtcbiAgICAgICAgdGhpcy5fbGlrZUNvdW50LnRleHRDb250ZW50ID0gdGhpcy5fbGlrZUFycmF5Lmxlbmd0aDtcbiAgICAgICAgdGhpcy5fc2V0U3RhdGVMaWtlKHRoaXMuX2xpa2VBcnJheSk7XG4gICAgICB9XG5cbiAgICBjcmVhdGVDYXJkKCkge1xuICAgICAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcblxuICAgICAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19mb3RvJyk7XG4gICAgICAgIHRoaXMuX2NhcmROYW1lID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdGl0bGUnKTtcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UnKTtcbiAgICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fYmFjaycpO1xuICAgICAgICB0aGlzLl9saWtlQ291bnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWNvdW50Jyk7XG5cbiAgICAgICAgdGhpcy5fY2FyZE5hbWUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgICAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICAgICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG5cbiAgICAgICAgLy8g0L7Qv9GA0LXQtNC10LvQtdC90LjQtSDQutC+0LvQuNGH0LXRgdGC0LLQsCDQu9Cw0LnQutC+0LIg0Lgg0YHRgtCw0YLRg9GBINC60L3QvtC/0LrQuCDQu9Cw0LnQulxuICAgICAgdGhpcy5fbGlrZUNvdW50LnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICAgICAgdGhpcy5fc2V0U3RhdGVMaWtlKHRoaXMuX2xpa2VzKSBcbiAgXG4gICAgICAvLyDQutC+0YDQt9C40L3QsCDRgtC+0LvRjNC60L4g0YMg0YHQstC+0LjRhSDQutCw0YDRgtC+0YfQtdC6XG4gICAgICBpZiAodGhpcy5fdXNlcklkICE9PSB0aGlzLl9vd25lci5faWQpIHtcbiAgICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uLnJlbW92ZSgpO1xuICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICAgICAgICBcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIFxuICBjb25zdHJ1Y3Rvcih2YWxpZCwgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gdmFsaWQuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHZhbGlkLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSB2YWxpZC5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHZhbGlkLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gdmFsaWQuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfTtcblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gIH1cblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pXG4gIH1cblxuICBfYWRkRGlzYWJsZWRCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICB9XG5cbiAgX3JlbW92ZURpc2FibGVkQnV0dG9uKCkge1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG5cbiAgICAgIHRoaXMuX2FkZERpc2FibGVkQnV0dG9uKClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcmVtb3ZlRGlzYWJsZWRCdXR0b24oKVxuICAgIH1cbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIH1cblxuICAgIG9wZW4oKSB7XG4gICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgfVxuICBcbiAgICBjbG9zZSgpIHtcbiAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB9XG4gIFxuICAgIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcbiAgICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIFxuICAgIF9oYW5kbGVDbGlja092ZXJsYXlQb3B1cCA9IChldnQpID0+IHtcbiAgICAgIGlmIChldnQudGFyZ2V0ID09PSB0aGlzLl9wb3B1cCkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuXG4gICAgfVxuXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICBjb25zdCBwb3B1cENsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pY29uLWNsb3NlJyk7XG4gICAgICBwb3B1cENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9KTtcbiAgXG4gICAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVDbGlja092ZXJsYXlQb3B1cCk7XG4gICAgfVxuICB9IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIFxuICAgIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XG4gICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICAgIHRoaXMuX2Zvcm1Qb3B1cCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xuICAgICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgICB0aGlzLl9idXR0b25Qb3B1cCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uLXNhdmUnKTtcbiAgICAgIHRoaXMuX2luaXRpYWxUZXh0ID0gdGhpcy5fYnV0dG9uUG9wdXAudGV4dENvbnRlbnQ7XG4gICAgfVxuICBcbiAgICBnZXRGb3JtUG9wdXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb3JtUG9wdXA7XG4gICAgICB9XG4gICAgXG4gICAgICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaW5wdXQgPT4gdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5fZm9ybVZhbHVlcylcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XG4gICAgICB9XG4gICAgXG4gICAgICBzZXRJbnB1dFZhbHVlcyhpbnB1dE9iamVjdCkge1xuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiBpbnB1dC52YWx1ZSA9IGlucHV0T2JqZWN0W2lucHV0Lm5hbWVdKTtcbiAgICAgIH1cbiAgICBcbiAgICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIFxuICAgICAgICB0aGlzLl9mb3JtUG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyDQmNC30LzQtdC90Y/QtdC8INGB0L7RgdGC0L7Rj9C90LjQtSDQutC90L7Qv9C60Lgg0LLQviDQstGA0LXQvNGPINC30LDQs9GA0YPQt9C60LhcbiAgICAgIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nKSB7XG4gICAgICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgICAgICB0aGlzLl9idXR0b25Qb3B1cC50ZXh0Q29udGVudCA9IFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9idXR0b25Qb3B1cC50ZXh0Q29udGVudCA9IHRoaXMuX2luaXRpYWxUZXh0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgXG4gICAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5fZm9ybVBvcHVwLnJlc2V0KCk7XG4gICAgICAgIHN1cGVyLmNsb3NlKClcbiAgICAgIH1cbiAgICB9IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlLWZvdG8nKTtcbiAgICAgICAgdGhpcy5faW1hZ2VOYW1lID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX190ZXh0JylcbiAgICB9XG5cbiAgICBvcGVuKGNhcmRJbWFnZSkge1xuICAgICAgICB0aGlzLl9pbWFnZS5zcmMgPSBjYXJkSW1hZ2UubGluaztcbiAgICAgICAgdGhpcy5faW1hZ2UuYWx0ID0gY2FyZEltYWdlLm5hbWU7XG4gICAgICAgIHRoaXMuX2ltYWdlTmFtZS50ZXh0Q29udGVudCA9IGNhcmRJbWFnZS5uYW1lO1xuICAgICAgICBzdXBlci5vcGVuKClcbiAgICAgIH1cbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Zvcm1Qb3B1cCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xuICAgIHRoaXMuX2J1dHRvblBvcHVwID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24tc2F2ZScpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2luaXRpYWxUZXh0ID0gdGhpcy5fYnV0dG9uUG9wdXAudGV4dENvbnRlbnQ7XG4gIH1cblxuICBvcGVuKGRhdGEpIHtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICBzdXBlci5vcGVuKClcbiAgfVxuICBcbiAgIC8v0LzQtdGC0L7QtCDQtNC+0LHQsNCy0LvRj9C10YIg0L7QsdGA0LDQsdC+0YLRh9C40Log0LrQu9C40LrQsCDQuNC60L7QvdC60LUg0LfQsNC60YDRi9GC0LjRjyDQuCDQtNC+0LHQsNCy0LvRj9C10YIg0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQsNCx0LzQuNGC0LAg0YTQvtGA0LzRiy5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHRoaXMuX2Zvcm1Qb3B1cC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZGF0YSlcbiAgICB9KTtcbiAgfVxuXG4gIC8vINCY0LfQvNC10L3Rj9C10Lwg0YHQvtGB0YLQvtGP0L3QuNC1INC60L3QvtC/0LrQuCDQstC+INCy0YDQtdC80Y8g0LfQsNCz0YDRg9C30LrQuFxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX2J1dHRvblBvcHVwLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idXR0b25Qb3B1cC50ZXh0Q29udGVudCA9IHRoaXMuX2luaXRpYWxUZXh0O1xuICAgIH1cbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX2Zvcm1Qb3B1cC5yZXNldCgpO1xuICAgIHN1cGVyLmNsb3NlKClcbiAgfVxufVxuXG4vKmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHsgaGFuZGxlRGVsZXRlQnV0b29uQ2xpY2sgfSkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2J1dHRvblBvcHVwID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24tc2F2ZScpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dG9vbkNsaWNrID0gIGhhbmRsZURlbGV0ZUJ1dG9vbkNsaWNrO1xuICB9XG4gICAgb3BlbigpIHtcbiAgICAgIHN1cGVyLm9wZW4oKTtcbiAgICB9XG4gIFxuICAgIGNsb3NlKCkge1xuICAgICAgc3VwZXIuY2xvc2UoKTtcbiAgICB9XG4gIFxuICAgIF9oYW5kbGVyQ2FsbEJhY2soKSB7XG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXRvb25DbGljayh0aGlzLl9kYXRhKTtcbiAgICB9XG4gIFxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgIHRoaXMuX2J1dHRvblBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlckNhbGxCYWNrKTtcbiAgICB9XG4gIH0qLyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuXG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgc2VsZWN0b3IpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICB9XG5cbiAgXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XG4gICAgaXRlbXMucmV2ZXJzZSgpLmZvckVhY2goaXRlbSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSlcbiAgfVxuXG4gIFxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yIH0pIHtcbiAgICAgICAgdGhpcy5fbmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuX2Fib3V0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioam9iU2VsZWN0b3IpO1xuICAgICAgICB0aGlzLl9hdmF0YXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XG4gICAgfVxuXG4gICAgICBnZXRVc2VySW5mbygpIHtcbiAgICAgICAgdGhpcy5fcHJvZmlsZU9iamVjdCA9IHsgfTtcbiAgICAgICAgdGhpcy5fcHJvZmlsZU9iamVjdC5uYW1lID0gdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgICAgIHRoaXMuX3Byb2ZpbGVPYmplY3QuYWJvdXQgPSB0aGlzLl9hYm91dEVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9maWxlT2JqZWN0O1xuICAgICAgfVxuXG4gICAgICBzZXRVc2VySW5mbyhmb3JtRGF0YSkge1xuICAgICAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IGZvcm1EYXRhLm5hbWU7XG4gICAgICAgIHRoaXMuX2Fib3V0RWxlbWVudC50ZXh0Q29udGVudCA9IGZvcm1EYXRhLmFib3V0O1xuICAgICAgICB0aGlzLl9hdmF0YXJFbGVtZW50LnNyYyA9IGZvcm1EYXRhLmF2YXRhcjtcbiAgICAgIH1cblxuICAgICAgc2V0VXNlcklkKGZvcm1EYXRhKSB7XG4gICAgICAgIHJldHVybiBmb3JtRGF0YS5faWRcbiAgICAgIH1cblxuICAgICAgdXNlcklkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgICB9XG5cbiAgICAgIHNldFVzZXJBdmF0YXIoYXZhdGFyRGF0YSkge1xuICAgICAgICAvL3RoaXMuX2F2YXRhclNlbGVjdG9yLnNyYyA9IGF2YXRhckRhdGEuYXZhdGFyO1xuICAgICAgICB0aGlzLl9hdmF0YXJFbGVtZW50LnNyYyA9ICBhdmF0YXJEYXRhLmF2YXRhcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAiLCJpbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm0uanMnO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcbmltcG9ydCBBcGkgZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnO1xuXG5pbXBvcnQge1xuICB2YWxpZGF0aW9uQ29uZmlnLFxuICBidXR0b25FZGl0LFxuICBidXR0b25BZGQsXG4gIGF2YXRhckVkaXQsXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5cbmltcG9ydCAnLi9pbmRleC5jc3MnO1xuXG5sZXQgdXNlcklkO1xubGV0IGNhcmREZWxldGU7XG5cblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIHVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNTInLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogJ2RmMTJlZDAxLWY2OTMtNGI1ZS1iNmZlLWFhNDYyZDBkNWI1OCcsXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICB9LFxufSlcblxuLy/QrdC60LfQtdC80L/Qu9GP0YAg0LrQu9Cw0YHRgdCwIFNlY3Rpb25cbmNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbih7XG4gIHJlbmRlcmVyOiAoZGF0YU9iaikgPT4ge1xuICAgIHNlY3Rpb24uYWRkSXRlbShjcmVhdGVDYXJkKGRhdGFPYmopKTtcbiAgfVxufSxcbiAgJy5lbGVtZW50cydcbilcblxuLy/QodC+0LfQtNCw0ZHQvCDQvNCw0YHRgdC40LIg0YEg0L/RgNC+0LzQuNGB0LDQvNC4XG5jb25zdCBhcnJheVByb21pc2VzID0gW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldO1xuUHJvbWlzZS5hbGwoYXJyYXlQcm9taXNlcylcbiAgLnRoZW4oKFt1c2VyRGF0YSwgY2FyZHNdKSA9PiB7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEpO1xuICAgIHVzZXJJbmZvLnNldFVzZXJJZCh1c2VyRGF0YSk7XG4gICAgdXNlcklkID0gdXNlckRhdGEuX2lkXG4gICAgc2VjdGlvbi5yZW5kZXJJdGVtcyhjYXJkcyk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YClcbiAgfSk7XG5cbi8v0YTRg9C90LrRhtC40Y8g0YHQvtC30LTQsNC90LjRjyDQutCw0YDRgtC+0YfQutC4XG5mdW5jdGlvbiBjcmVhdGVDYXJkKGRhdGFPYmopIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGRhdGFPYmosICcudGVtcGxhdGUnLCB7XG4gICAgaGFuZGxlQ2FyZENsaWNrOiAoKSA9PiB7XG4gICAgICBwb3B1cFdpdGhJbWFnZS5vcGVuKGRhdGFPYmopXG4gICAgfSxcblxuICAgIGhhbmRsZUFkZExpa2U6ICgpID0+IHtcbiAgICAgIGFwaS5hZGRMaWtlQ2FyZChkYXRhT2JqLl9pZClcbiAgICAgICAgLnRoZW4oZGF0YU9iaiA9PiB7XG4gICAgICAgICAgY2FyZC5zZXRMaWtlSW5mbyhkYXRhT2JqLmxpa2VzKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn0J7RiNC40LHQutCwINC/0YDQuCDQtNC+0LHQsNCy0LvQtdC90LjQuCBMaWtlINC60LDRgNGC0L7Rh9C60LgnLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgaGFuZGxlUmVtb3ZlTGlrZTogKCkgPT4ge1xuICAgICAgYXBpLnJlbW92ZUxpa2VDYXJkKGRhdGFPYmouX2lkKVxuICAgICAgICAudGhlbihkYXRhT2JqID0+IHtcbiAgICAgICAgICBjYXJkLnNldExpa2VJbmZvKGRhdGFPYmoubGlrZXMpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfQntGI0LjQsdC60LAg0L/RgNC4INGD0LTQsNC70LXQvdC40LggTGlrZSDQutCw0YDRgtC+0YfQutC4JywgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIGhhbmRsZURlbGV0ZUJ1dG9vbkNsaWNrOiAoY2FyZElkKSA9PiB7XG4gICAgICBwb3B1cENvbmZpcm1Gb3JtLm9wZW4oY2FyZElkKTtcbiAgICAgIGNhcmREZWxldGUgPSBjYXJkXG4gICAgfVxuICB9LFxuICAgIHVzZXJJZFxuICApO1xuICBjb25zdCBuZXdDYXJkID0gY2FyZC5jcmVhdGVDYXJkKCk7XG4gIHJldHVybiBuZXdDYXJkO1xufVxuXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwX2ltYWdlJylcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmJ1dHRvbkFkZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcG9wdXBBZGRGb3JtLm9wZW4oKTtcbiAgY29uc3QgZm9ybUFkZCA9IHBvcHVwQWRkRm9ybS5nZXRGb3JtUG9wdXAoKTtcbiAgZm9ybVZhbGlkYXRvcnNbZm9ybUFkZC5nZXRBdHRyaWJ1dGUoJ25hbWUnKV0ucmVzZXRWYWxpZGF0aW9uKClcbn0pO1xuXG5jb25zdCBwb3B1cEFkZEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6ICcucG9wdXAtYWRkJyxcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGNhcmQpID0+IHtcbiAgICBwb3B1cEFkZEZvcm0ucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgICBhcGkuY3JlYXRlQ2FyZChjYXJkLm5hbWUsIGNhcmQubGluaylcbiAgICAgIC50aGVuKGZvcm1EYXRhID0+IHtcbiAgICAgICAgc2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQoZm9ybURhdGEpKTtcbiAgICAgICAgcG9wdXBBZGRGb3JtLmNsb3NlKClcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn0J7RiNC40LHQutCwINC/0YDQuCDQtNC+0LHQsNCy0LvQtdC90LjQuCDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LgnLCBlcnIpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgcG9wdXBBZGRGb3JtLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICAgICAgfSlcbiAgfVxufSk7XG5wb3B1cEFkZEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBuYW1lU2VsZWN0b3I6ICcucHJvZmlsZV9fbmFtZScsXG4gIGpvYlNlbGVjdG9yOiAnLnByb2ZpbGVfX2Fib3V0JyxcbiAgYXZhdGFyU2VsZWN0b3I6ICcucHJvZmlsZV9fYXZhdGFyJyxcbn0pO1xuXG5jb25zdCBwb3B1cEVkaXRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiAnLnBvcHVwLWVkaXQnLFxuICBoYW5kbGVGb3JtU3VibWl0OiAodXNlcikgPT4ge1xuICAgIHBvcHVwRWRpdEZvcm0ucmVuZGVyTG9hZGluZyh0cnVlKVxuICAgIGFwaS5lZGl0VXNlckluZm8odXNlci5uYW1lLCB1c2VyLmFib3V0KVxuICAgICAgLnRoZW4oKGZvcm1EYXRhKSA9PiB7XG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGZvcm1EYXRhKTtcbiAgICAgICAgcG9wdXBFZGl0Rm9ybS5jbG9zZSgpXG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfQntGI0LjQsdC60LAg0L/RgNC4INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Lgg0L/RgNC+0YTQuNC70Y8nLCBlcnIpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgcG9wdXBFZGl0Rm9ybS5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pXG4gIH0sXG59KTtcbnBvcHVwRWRpdEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuYnV0dG9uRWRpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcG9wdXBFZGl0Rm9ybS5vcGVuKCk7XG4gIGNvbnN0IGZvcm1FZGl0ID0gcG9wdXBFZGl0Rm9ybS5nZXRGb3JtUG9wdXAoKTtcbiAgY29uc3Qgb2JqZWN0UHJvZmlsZSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIHBvcHVwRWRpdEZvcm0uc2V0SW5wdXRWYWx1ZXMob2JqZWN0UHJvZmlsZSk7XG4gIGZvcm1WYWxpZGF0b3JzW2Zvcm1FZGl0LmdldEF0dHJpYnV0ZSgnbmFtZScpXS5yZXNldFZhbGlkYXRpb24oKVxufSk7XG5cbi8v0J7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0YEg0YTQvtGA0LzQvtC5INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LDQstCw0YLQsNGA0LBcbmF2YXRhckVkaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIHBvcHVwQXZhdGFyRm9ybS5vcGVuKCk7XG4gIGNvbnN0IGZvcm1BdmF0YXIgPSBwb3B1cEF2YXRhckZvcm0uZ2V0Rm9ybVBvcHVwKCk7XG4gIGZvcm1WYWxpZGF0b3JzW2Zvcm1BdmF0YXIuZ2V0QXR0cmlidXRlKCduYW1lJyldLnJlc2V0VmFsaWRhdGlvbigpXG59KTtcblxuLy/RjdC60LfQtdC80L/Qu9GP0YAg0YTQvtGA0LzRiyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINCw0LLQsNGC0LDRgNCwXG5jb25zdCBwb3B1cEF2YXRhckZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6ICcucG9wdXAtYXZhdGFyJyxcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKHVzZXJEYXRhKSA9PiB7XG4gICAgcG9wdXBBdmF0YXJGb3JtLnJlbmRlckxvYWRpbmcodHJ1ZSlcbiAgICBhcGkuZWRpdFVzZXJBdmF0YXIodXNlckRhdGEuYXZhdGFyKVxuICAgICAgLnRoZW4oZm9ybURhdGEgPT4ge1xuICAgICAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKGZvcm1EYXRhKTtcbiAgICAgICAgcG9wdXBBdmF0YXJGb3JtLmNsb3NlKClcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn0J7RiNC40LHQutCwINC/0YDQuCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC4INCw0LLQsNGC0LDRgNCwJywgZXJyKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHBvcHVwQXZhdGFyRm9ybS5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pXG4gIH0sXG59KTtcbnBvcHVwQXZhdGFyRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vL9GN0LrQt9C10LzQv9C70Y/RgCDRhNC+0YDQvNGLINC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNGPINGD0LTQsNC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxuY29uc3QgcG9wdXBDb25maXJtRm9ybSA9IG5ldyBQb3B1cFdpdGhDb25maXJtKHtcbiAgcG9wdXBTZWxlY3RvcjogJy5wb3B1cC1jb25maXJtJyxcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcbiAgICBwb3B1cENvbmZpcm1Gb3JtLnJlbmRlckxvYWRpbmcodHJ1ZSlcbiAgICBhcGkuZGVsZXRlQ2FyZChkYXRhKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjYXJkRGVsZXRlLmhhbmRsZURlbGV0ZUNhcmQoKTtcbiAgICAgICAgcG9wdXBDb25maXJtRm9ybS5jbG9zZSgpXG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0L/QvtC00YLQstC10YDQttC00LXQvdC40Lgg0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4JywgZXJyKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHBvcHVwQ29uZmlybUZvcm0ucmVuZGVyTG9hZGluZyhmYWxzZSk7XG4gICAgICB9KVxuICB9LFxufSk7XG5wb3B1cENvbmZpcm1Gb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge31cbmNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoY29uZmlnKSA9PiB7XG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpKVxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpXG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuICAgIGZvcm1WYWxpZGF0b3JzW2Zvcm1OYW1lXSA9IHZhbGlkYXRvcjtcbiAgICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuICB9KTtcbn07XG5cbmVuYWJsZVZhbGlkYXRpb24odmFsaWRhdGlvbkNvbmZpZyk7IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgdGhpcy5fdXJsID0gY29uZmlnLnVybDtcbiAgICAgICAgdGhpcy5faGVhZGVyID0gY29uZmlnLmhlYWRlcnM7XG4gICAgfVxuXG4gICAgX3JlcXVlc3RSZXN1bHQocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgICBg0J7RiNC40LHQutCwICR7cmVzcG9uc2Uuc3RhdHVzfSAtICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvL9CX0LDQv9GA0L7RgSDQutCw0YDRgtC+0YfQtdC6INGBINGB0LXQtdGA0LLQtdGA0LBcbiAgICAgIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7XG4gICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyfSlcbiAgICAgICAgICAudGhlbih0aGlzLl9yZXF1ZXN0UmVzdWx0KVxuICAgICAgfVxuXG4gICAgICAvL9CX0LDQv9GA0L7RgSDQtNCw0L3QvdGL0YUg0L/RgNC+0YTQuNC70Y8g0YEg0YHQtdC10YDQstC10YDQsFxuICAgICAgZ2V0VXNlckluZm8oKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyfSlcbiAgICAgICAgICAgIC50aGVuKHRoaXMuX3JlcXVlc3RSZXN1bHQpXG4gICAgfVxuXG4gICAgZWRpdFVzZXJJbmZvKG5hbWUsIGFib3V0KSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBhYm91dCB9KVxuICAgICAgICB9KVxuICAgICAgICAudGhlbih0aGlzLl9yZXF1ZXN0UmVzdWx0KVxuICAgIH1cblxuICAgIGVkaXRVc2VyQXZhdGFyKGF2YXRhcikge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXIsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGF2YXRhciB9KVxuICAgICAgICB9KVxuICAgICAgICAudGhlbih0aGlzLl9yZXF1ZXN0UmVzdWx0KVxuICAgIH1cblxuICAgIGNyZWF0ZUNhcmQobmFtZSwgbGluaykge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBsaW5rIH0pXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHRoaXMuX3JlcXVlc3RSZXN1bHQpXG4gICAgfVxuXG4gICAgYWRkTGlrZUNhcmQoY2FyZElkKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXIsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHRoaXMuX3JlcXVlc3RSZXN1bHQpXG4gICAgICB9XG4gICAgXG4gICAgICByZW1vdmVMaWtlQ2FyZChjYXJkSWQpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbih0aGlzLl9yZXF1ZXN0UmVzdWx0KVxuICAgICAgfVxuICAgIFxuICAgIFxuICAgICAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coY2FyZElkKVxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXIsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHRoaXMuX3JlcXVlc3RSZXN1bHQpXG4gICAgICB9XG59IiwiZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICfQkNGA0YXRi9C3JyxcbiAgICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9hcmtoeXouanBnJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAn0KfQtdC70Y/QsdC40L3RgdC60LDRjyDQvtCx0LvQsNGB0YLRjCcsXG4gICAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvY2hlbHlhYmluc2stb2JsYXN0LmpwZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ9CY0LLQsNC90L7QstC+JyxcbiAgICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9pdmFub3ZvLmpwZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ9Ca0LDQvNGH0LDRgtC60LAnLFxuICAgICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2thbWNoYXRrYS5qcGcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICfQpdC+0LvQvNC+0LPQvtGA0YHQutC40Lkg0YDQsNC50L7QvScsXG4gICAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2hvbG1vZ29yc2t5LXJheW9uLmpwZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ9CR0LDQudC60LDQuycsXG4gICAgICAgIGxpbms6ICdodHRwczovL2FsbC1hZm9yaXpteS5ydS93cC1jb250ZW50L3VwbG9hZHMvMjAyMi8wMi9zY2FsZV8xMjAwLTguanBnJ1xuICAgIH1cbl07XG5cbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xuICAgIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fZm9ybScsXG4gICAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19idXR0b24tc2F2ZScsXG4gICAgcG9wdXBFcnJvclNlbGVjdG9yOiAnLnBvcHVwX19lcnJvcicsXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19idXR0b24tc2F2ZV9kaXNhYmxlZCcsXG4gICAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2lucHV0X3R5cGVfZXJyb3InLFxuICAgIGVycm9yQ2xhc3M6ICdwb3B1cF9fZXJyb3JfdmlzaWJsZSdcbn07XG5cbmV4cG9ydCBjb25zdCBpbWFnZUZvdG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlLWZvdG8nKTtcbmV4cG9ydCBjb25zdCBwb3B1cEltYWdlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fdGV4dCcpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvbkVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idXR0b24nKTtcbmV4cG9ydCBjb25zdCBidXR0b25BZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xuZXhwb3J0IGNvbnN0IGF2YXRhckVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJyk7Il0sIm5hbWVzIjpbIkNhcmQiLCJkYXRhT2JqIiwiY2FyZFNlbGVjdG9yIiwidXNlcklkIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlQWRkTGlrZSIsImhhbmRsZVJlbW92ZUxpa2UiLCJoYW5kbGVEZWxldGVCdXRvb25DbGljayIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVBZGRMaWtlIiwiX2hhbmRsZVJlbW92ZUxpa2UiLCJfaGFuZGxlRGVsZXRlQnV0b29uQ2xpY2siLCJfdXNlcklkIiwiX2xpa2VBcnJheSIsImxpa2VzIiwiX293bmVyIiwib3duZXIiLCJfbGlrZXMiLCJfY2FyZElkIiwiX2lkIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwicmVtb3ZlIiwiX2xpa2VCdXR0b24iLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImFycmF5IiwiZmluZCIsIml0ZW0iLCJhZGQiLCJfZGVsZXRlQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9hZGRMaWtlIiwiX2NhcmRJbWFnZSIsIl9saWtlQ291bnQiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsIl9zZXRTdGF0ZUxpa2UiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZE5hbWUiLCJzcmMiLCJhbHQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJGb3JtVmFsaWRhdG9yIiwidmFsaWQiLCJmb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtRWxlbWVudCIsIl9idXR0b25FbGVtZW50IiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwidmFsaWRpdHkiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJzb21lIiwiZGlzYWJsZWQiLCJfaGFzSW52YWxpZElucHV0IiwiX2FkZERpc2FibGVkQnV0dG9uIiwiX3JlbW92ZURpc2FibGVkQnV0dG9uIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJldnQiLCJrZXkiLCJjbG9zZSIsInRhcmdldCIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlQ2xpY2tPdmVybGF5UG9wdXAiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtUG9wdXAiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9idXR0b25Qb3B1cCIsIl9pbml0aWFsVGV4dCIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsImNvbnNvbGUiLCJsb2ciLCJpbnB1dE9iamVjdCIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwiaXNMb2FkaW5nIiwicmVzZXQiLCJQb3B1cFdpdGhJbWFnZSIsIl9pbWFnZSIsIl9pbWFnZU5hbWUiLCJjYXJkSW1hZ2UiLCJQb3B1cFdpdGhDb25maXJtIiwiZGF0YSIsIl9kYXRhIiwiU2VjdGlvbiIsInNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbXMiLCJyZXZlcnNlIiwiZWxlbWVudCIsInByZXBlbmQiLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImpvYlNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfbmFtZUVsZW1lbnQiLCJfYWJvdXRFbGVtZW50IiwiX2F2YXRhckVsZW1lbnQiLCJfcHJvZmlsZU9iamVjdCIsImFib3V0IiwiZm9ybURhdGEiLCJhdmF0YXIiLCJhdmF0YXJEYXRhIiwiY2FyZERlbGV0ZSIsIkFwaSIsImNvbmZpZyIsIl91cmwiLCJ1cmwiLCJfaGVhZGVyIiwiaGVhZGVycyIsInJlc3BvbnNlIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJmZXRjaCIsInRoZW4iLCJfcmVxdWVzdFJlc3VsdCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElkIiwiYnV0dG9uRWRpdCIsImJ1dHRvbkFkZCIsImF2YXRhckVkaXQiLCJhcGkiLCJhdXRob3JpemF0aW9uIiwic2VjdGlvbiIsImFkZEl0ZW0iLCJjcmVhdGVDYXJkIiwiYXJyYXlQcm9taXNlcyIsImdldFVzZXJJbmZvIiwiZ2V0SW5pdGlhbENhcmRzIiwiY2FyZCIsInBvcHVwV2l0aEltYWdlIiwib3BlbiIsImFkZExpa2VDYXJkIiwic2V0TGlrZUluZm8iLCJjYXRjaCIsImVyciIsInJlbW92ZUxpa2VDYXJkIiwicG9wdXBDb25maXJtRm9ybSIsImFsbCIsInVzZXJEYXRhIiwiY2FyZHMiLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwic2V0VXNlcklkIiwicmVuZGVySXRlbXMiLCJzZXRFdmVudExpc3RlbmVycyIsInBvcHVwQWRkRm9ybSIsImZvcm1BZGQiLCJnZXRGb3JtUG9wdXAiLCJmb3JtVmFsaWRhdG9ycyIsImdldEF0dHJpYnV0ZSIsInJlc2V0VmFsaWRhdGlvbiIsInJlbmRlckxvYWRpbmciLCJmaW5hbGx5IiwicG9wdXBFZGl0Rm9ybSIsInVzZXIiLCJlZGl0VXNlckluZm8iLCJmb3JtRWRpdCIsIm9iamVjdFByb2ZpbGUiLCJzZXRJbnB1dFZhbHVlcyIsInBvcHVwQXZhdGFyRm9ybSIsImZvcm1BdmF0YXIiLCJlZGl0VXNlckF2YXRhciIsInNldFVzZXJBdmF0YXIiLCJkZWxldGVDYXJkIiwiaGFuZGxlRGVsZXRlQ2FyZCIsImZvcm1TZWxlY3RvciIsInBvcHVwRXJyb3JTZWxlY3RvciIsInZhbGlkYXRvciIsImZvcm1OYW1lIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=