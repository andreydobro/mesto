(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r,o){var i=r.handleCardClick,u=r.handleAddLike,a=r.handleRemoveLike,l=r.handleDeleteButoonClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e.name,this._link=e.link,this._cardSelector=n,this._handleCardClick=i,this._handleAddLike=u,this._handleRemoveLike=a,this._handleDeleteButoonClick=l,this._userId=o,this._likeArray=e.likes,this._owner=e.owner,this._likes=e.likes,this._cardId=e._id}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"handleDeleteCard",value:function(){this._element.remove(),this._element=null}},{key:"_addLike",value:function(){this._likeButton.classList.contains("element__like_active")?this._handleRemoveLike(this):this._handleAddLike(this)}},{key:"_setStateLike",value:function(e){var t=this;e.find((function(e){return e._id===t._userId}))?this._likeButton.classList.add("element__like_active"):this._likeButton.classList.remove("element__like_active")}},{key:"_handleLikeCard",value:function(){this._likeButton.classList.toggle("element__like_active")}},{key:"_setEventListeners",value:function(){var e=this;this._deleteButton.addEventListener("click",(function(){e._handleDeleteButoonClick(e._cardId)})),this._likeButton.addEventListener("click",(function(){e._addLike()})),this._cardImage.addEventListener("click",(function(){e._handleCardClick()}))}},{key:"setLikeInfo",value:function(e){this._likeArray=e,this._likeCount.textContent=this._likeArray.length,this._setStateLike(this._likeArray)}},{key:"createCard",value:function(){return this._element=this._getTemplate(),this._cardImage=this._element.querySelector(".element__foto"),this._cardName=this._element.querySelector(".element__title"),this._likeButton=this._element.querySelector(".element__like"),this._deleteButton=this._element.querySelector(".element__back"),this._likeCount=this._element.querySelector(".element__like-count"),this._cardName.textContent=this._name,this._cardImage.src=this._link,this._cardImage.alt=this._name,this._likeCount.textContent=this._likes.length,this._setStateLike(this._likes),this._userId!==this._owner._id&&this._deleteButton.remove(),this._setEventListeners(),this._element}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formElement=n,this._buttonElement=this._formElement.querySelector(this._submitButtonSelector),this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector))}var t,r;return t=e,(r=[{key:"_showInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_addDisabledButton",value:function(){this._buttonElement.disabled=!0,this._buttonElement.classList.add(this._inactiveButtonClass)}},{key:"_removeDisabledButton",value:function(){this._buttonElement.disabled=!1,this._buttonElement.classList.remove(this._inactiveButtonClass)}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._addDisabledButton():this._removeDisabledButton()}},{key:"enableValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"resetValidation",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)})),this._toggleButtonState()}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"_handleEscClose",(function(e){"Escape"===e.key&&n.close()})),i(this,"_handleClickOverlayPopup",(function(e){e.target===n._popup&&n.close()})),this._popup=document.querySelector(t)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".popup__icon-close").addEventListener("click",(function(){e.close()})),this._popup.addEventListener("mousedown",this._handleClickOverlayPopup)}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=s(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},c.apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function u(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,n))._popup=document.querySelector(n),t._formPopup=t._popup.querySelector(".popup__form"),t._inputList=t._popup.querySelectorAll(".popup__input"),t._handleFormSubmit=r,t._buttonPopup=t._popup.querySelector(".popup__button-save"),t._initialText=t._buttonPopup.textContent,t}return t=u,(n=[{key:"getFormPopup",value:function(){return this._formPopup}},{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){return e._formValues[t.name]=t.value})),console.log(this._formValues),this._formValues}},{key:"setInputValues",value:function(e){this._inputList.forEach((function(t){return t.value=e[t.name]}))}},{key:"setEventListeners",value:function(){var e=this;c(h(u.prototype),"setEventListeners",this).call(this),this._formPopup.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues()),e.close()}))}},{key:"renderLoading",value:function(e){this._buttonPopup.textContent=e?"Сохранение...":this._initialText}},{key:"close",value:function(){this._formPopup.reset(),c(h(u.prototype),"close",this).call(this)}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(u);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=m(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},v.apply(this,arguments)}function m(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function k(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(r);if(o){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return k(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._image=t._popup.querySelector(".popup__image-foto"),t._imageName=t._popup.querySelector(".popup__text"),t}return t=u,(n=[{key:"open",value:function(e){this._image.src=e.link,this._image.alt=e.name,this._imageName.textContent=e.name,v(g(u.prototype),"open",this).call(this)}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(u);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=L(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},O.apply(this,arguments)}function L(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function P(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(o){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return P(this,e)});function u(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,n))._popup=document.querySelector(n),t._formPopup=t._popup.querySelector(".popup__form"),t._buttonPopup=t._popup.querySelector(".popup__button-save"),t._handleFormSubmit=r,t._initialText=t._buttonPopup.textContent,t}return t=u,(n=[{key:"open",value:function(e){this._cardId=e,O(j(u.prototype),"open",this).call(this)}},{key:"setEventListeners",value:function(){var e=this;O(j(u.prototype),"setEventListeners",this).call(this),this._formPopup.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._cardId)}))}},{key:"renderLoading",value:function(e){this._buttonPopup.textContent=e?"Сохранение...":this._initialText}},{key:"close",value:function(){this._formPopup.reset(),O(j(u.prototype),"close",this).call(this)}}])&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(u);function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.reverse().forEach((function(e){return t._renderer(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(t){var n=t.nameSelector,r=t.jobSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameElement=document.querySelector(n),this._aboutElement=document.querySelector(r),this._avatarElement=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this._profileObject={},this._profileObject.name=this._nameElement.textContent,this._profileObject.about=this._aboutElement.textContent,this._profileObject}},{key:"setUserInfo",value:function(e){this._nameElement.textContent=e.name,this._aboutElement.textContent=e.about,this._avatarElement.src=e.avatar}},{key:"setUserId",value:function(e){return e._id}},{key:"userId",value:function(){return this._id}},{key:"setUserAvatar",value:function(e){this._avatarSelector.src=e.avatar}}])&&B(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x,D,U=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._header=t.headers}var t,n;return t=e,(n=[{key:"_requestResult",value:function(e){return e.ok?e.json():Promise.reject("Ошибка ".concat(e.status," - ").concat(e.statusText))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._header}).then(this._requestResult)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._header}).then(this._requestResult)}},{key:"editUserInfo",value:function(e,t){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._header,body:JSON.stringify({name:e,about:t})}).then(this._requestResult)}},{key:"editUserAvatar",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._header,body:JSON.stringify({avatar:e})}).then(this._requestResult)}},{key:"createCard",value:function(e,t){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._header,body:JSON.stringify({name:e,link:t})}).then(this._requestResult)}},{key:"addLikeCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this._header}).then(this._requestResult)}},{key:"removeLikeCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this._header}).then(this._requestResult)}},{key:"deleteCard",value:function(e){return console.log(e),fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._header}).then(this._requestResult)}}])&&A(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),V=(document.querySelector(".popup__image-foto"),document.querySelector(".popup__text"),document.querySelector(".profile__edit-button")),F=document.querySelector(".profile__add-button"),N=document.querySelector(".profile__avatar");function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var H=new U({url:"https://mesto.nomoreparties.co/v1/cohort-52",headers:{authorization:"df12ed01-f693-4b5e-b6fe-aa462d0d5b58","Content-Type":"application/json"}}),M=new R({renderer:function(e){M.addItem($(e))}},".elements"),z=[H.getUserInfo(),H.getInitialCards()];function $(e){var n=new t(e,".template",{handleCardClick:function(){G.open(e)},handleAddLike:function(){H.addLikeCard(e._id).then((function(e){n.setLikeInfo(e.likes)})).catch((function(e){console.log("Ошибка при добавлении Like карточки",e)}))},handleRemoveLike:function(){H.removeLikeCard(e._id).then((function(e){n.setLikeInfo(e.likes)})).catch((function(e){console.log("Ошибка при удалении Like карточки",e)}))},handleDeleteButoonClick:function(e){Y.open(e),D=n}},x);return n.createCard()}Promise.all(z).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];Q.setUserInfo(o),Q.setUserId(o),x=o._id,M.renderItems(i)})).catch((function(e){console.log("Ошибка: ".concat(e))}));var G=new S(".popup_image");G.setEventListeners(),F.addEventListener("click",(function(){K.open();var e=K.getFormPopup();ee[e.getAttribute("name")].resetValidation()}));var K=new d({popupSelector:".popup-add",handleFormSubmit:function(e){K.renderLoading(!0),H.createCard(e.name,e.link).then((function(e){M.addItem($(e)),K.close()})).catch((function(e){console.log("Ошибка при добавлении новой карточки",e)})).finally((function(){K.renderLoading(!1)}))}});K.setEventListeners();var Q=new T({nameSelector:".profile__name",jobSelector:".profile__about",avatarSelector:".profile__avatar"}),W=new d({popupSelector:".popup-edit",handleFormSubmit:function(e){W.renderLoading(!0),H.editUserInfo(e.name,e.about).then((function(e){Q.setUserInfo(e),W.close()})).catch((function(e){console.log("Ошибка при редактировании профиля",e)})).finally((function(){W.renderLoading(!1)}))}});W.setEventListeners(),V.addEventListener("click",(function(){W.open();var e=W.getFormPopup(),t=Q.getUserInfo();W.setInputValues(t),ee[e.getAttribute("name")].resetValidation()})),N.addEventListener("click",(function(){X.open();var e=X.getFormPopup();ee[e.getAttribute("name")].resetValidation()}));var X=new d({popupSelector:".popup-avatar",handleFormSubmit:function(e){X.renderLoading(!0),H.editUserAvatar(e.avatar).then((function(e){Q.setUserAvatar(e),X.close})).catch((function(e){console.log("Ошибка при редактировании аватара",e)})).finally((function(){X.renderLoading(!1)}))}});X.setEventListeners();var Y=new I({popupSelector:".popup-confirm",handleFormSubmit:function(e){Y.renderLoading(!0),H.deleteCard(e).then((function(){D.handleDeleteCard(),Y.close()})).catch((function(e){console.log("Ошибка при подтверждении удаления карточки",e)})).finally((function(){Y.renderLoading(!1)}))}});Y.setEventListeners();var Z,ee={};Z={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button-save",popupErrorSelector:".popup__error",inactiveButtonClass:"popup__button-save_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},Array.from(document.querySelectorAll(Z.formSelector)).forEach((function(e){var t=new r(Z,e),n=e.getAttribute("name");ee[n]=t,t.enableValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aUJBQWtCLFNBQUNxRixHQUNqQnFCLEVBQWdCUixlQUFjLEdBQzlCL0IsRUFBSXlDLGVBQWV2QixFQUFTN0MsUUFDekJrQixNQUFLLFNBQUFuQixHQUNKZ0QsRUFBU3NCLGNBQWN0RSxHQUN2Qm1FLEVBQWdCakgsS0FDbEIsSUFDQ3VGLE9BQU0sU0FBQ0MsR0FDTnpFLFFBQVFDLElBQUksb0NBQXFDd0UsRUFDbkQsSUFDQ2tCLFNBQVEsV0FDUE8sRUFBZ0JSLGVBQWMsRUFDaEMsR0FDSixJQUVGUSxFQUFnQmYsb0JBR2hCLElBQU1SLEVBQW1CLElBQUloRSxFQUFpQixDQUM1QzdCLGNBQWUsaUJBQ2ZVLGlCQUFrQixTQUFDb0IsR0FDakIrRCxFQUFpQmUsZUFBYyxHQUMvQi9CLEVBQUkyQyxXQUFXMUYsR0FDWnNDLE1BQUssV0FDSmYsRUFBV29FLG1CQUNYNUIsRUFBaUIxRixPQUNuQixJQUNDdUYsT0FBTSxTQUFDQyxHQUNOekUsUUFBUUMsSUFBSSw2Q0FBOEN3RSxFQUM1RCxJQUNDa0IsU0FBUSxXQUNQaEIsRUFBaUJlLGVBQWMsRUFDakMsR0FDSixJQUVGZixFQUFpQlEsb0JBRWpCLElBQzBCOUMsRUFEcEJrRCxHQUFpQixDQUFDLEVBQ0VsRCxFRTNLTSxDQUM1Qm1FLGFBQWMsZUFDZHpKLGNBQWUsZ0JBQ2ZFLHFCQUFzQixzQkFDdEJ3SixtQkFBb0IsZ0JBQ3BCdEosb0JBQXFCLDhCQUNyQkUsZ0JBQWlCLDBCQUNqQkUsV0FBWSx3QkZxS0dJLE1BQU1DLEtBQUs1QyxTQUFTNkMsaUJBQWlCd0UsRUFBT21FLGVBQ3BEN0gsU0FBUSxTQUFDOUIsR0FDaEIsSUFBTTZKLEVBQVksSUFBSS9KLEVBQWMwRixFQUFReEYsR0FDdEM4SixFQUFXOUosRUFBWTJJLGFBQWEsUUFDMUNELEdBQWVvQixHQUFZRCxFQUMzQkEsRUFBVUUsa0JBQ1osRyIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICAgIGNvbnN0cnVjdG9yKGRhdGFPYmosIGNhcmRTZWxlY3Rvciwge2hhbmRsZUNhcmRDbGljaywgaGFuZGxlQWRkTGlrZSwgaGFuZGxlUmVtb3ZlTGlrZSwgaGFuZGxlRGVsZXRlQnV0b29uQ2xpY2t9LCB1c2VySWQpIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IGRhdGFPYmoubmFtZTtcbiAgICAgICAgdGhpcy5fbGluayA9IGRhdGFPYmoubGluaztcbiAgICAgICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgICAgIHRoaXMuX2hhbmRsZUFkZExpa2UgPSBoYW5kbGVBZGRMaWtlO1xuICAgICAgICB0aGlzLl9oYW5kbGVSZW1vdmVMaWtlID0gaGFuZGxlUmVtb3ZlTGlrZTtcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0b29uQ2xpY2sgPSBoYW5kbGVEZWxldGVCdXRvb25DbGljaztcbiAgICAgICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xuICAgICAgICB0aGlzLl9saWtlQXJyYXkgPSBkYXRhT2JqLmxpa2VzO1xuICAgICAgICB0aGlzLl9vd25lciA9IGRhdGFPYmoub3duZXJcbiAgICAgICAgdGhpcy5fbGlrZXMgPSBkYXRhT2JqLmxpa2VzO1xuICAgICAgICB0aGlzLl9jYXJkSWQgPSBkYXRhT2JqLl9pZDtcbiAgICB9XG5cbiAgICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgICAgIGNvbnN0IG5ld0NhcmQgPSBkb2N1bWVudFxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKS5jb250ZW50XG4gICAgICAgICAgICAucXVlcnlTZWxlY3RvcignLmVsZW1lbnQnKVxuICAgICAgICAgICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgICAgICByZXR1cm4gbmV3Q2FyZDtcbiAgICB9XG5cbiAgICBoYW5kbGVEZWxldGVDYXJkKCkge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBfYWRkTGlrZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdlbGVtZW50X19saWtlX2FjdGl2ZScpKSB7XG4gICAgICAgICAgdGhpcy5faGFuZGxlUmVtb3ZlTGlrZSh0aGlzKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2hhbmRsZUFkZExpa2UodGhpcylcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgX3NldFN0YXRlTGlrZShhcnJheSkge1xuICAgICAgICBpZiAoYXJyYXkuZmluZChpdGVtID0+IGl0ZW0uX2lkID09PSB0aGlzLl91c2VySWQpKSB7XG4gICAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdlbGVtZW50X19saWtlX2FjdGl2ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnZWxlbWVudF9fbGlrZV9hY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgX2hhbmRsZUxpa2VDYXJkKCkge1xuICAgICAgICB0aGlzLl9saWtlQnV0dG9uXG4gICAgICAgICAgICAuY2xhc3NMaXN0LnRvZ2dsZSgnZWxlbWVudF9fbGlrZV9hY3RpdmUnKTtcbiAgICB9XG5cbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvblxuICAgICAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dG9vbkNsaWNrKHRoaXMuX2NhcmRJZCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9saWtlQnV0dG9uXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkTGlrZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fY2FyZEltYWdlXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKCk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXRMaWtlSW5mbyhhcnJheSkge1xuICAgICAgICB0aGlzLl9saWtlQXJyYXkgPSBhcnJheTtcbiAgICAgICAgdGhpcy5fbGlrZUNvdW50LnRleHRDb250ZW50ID0gdGhpcy5fbGlrZUFycmF5Lmxlbmd0aDtcbiAgICAgICAgdGhpcy5fc2V0U3RhdGVMaWtlKHRoaXMuX2xpa2VBcnJheSk7XG4gICAgICB9XG5cbiAgICBjcmVhdGVDYXJkKCkge1xuICAgICAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcblxuICAgICAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19mb3RvJyk7XG4gICAgICAgIHRoaXMuX2NhcmROYW1lID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdGl0bGUnKTtcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UnKTtcbiAgICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fYmFjaycpO1xuICAgICAgICB0aGlzLl9saWtlQ291bnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWNvdW50Jyk7XG5cbiAgICAgICAgdGhpcy5fY2FyZE5hbWUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgICAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICAgICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG5cbiAgICAgICAgLy8g0L7Qv9GA0LXQtNC10LvQtdC90LjQtSDQutC+0LvQuNGH0LXRgdGC0LLQsCDQu9Cw0LnQutC+0LIg0Lgg0YHRgtCw0YLRg9GBINC60L3QvtC/0LrQuCDQu9Cw0LnQulxuICAgICAgdGhpcy5fbGlrZUNvdW50LnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICAgICAgdGhpcy5fc2V0U3RhdGVMaWtlKHRoaXMuX2xpa2VzKSBcbiAgXG4gICAgICAvLyDQutC+0YDQt9C40L3QsCDRgtC+0LvRjNC60L4g0YMg0YHQstC+0LjRhSDQutCw0YDRgtC+0YfQtdC6XG4gICAgICBpZiAodGhpcy5fdXNlcklkICE9PSB0aGlzLl9vd25lci5faWQpIHtcbiAgICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uLnJlbW92ZSgpO1xuICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICAgICAgICBcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIFxuICBjb25zdHJ1Y3Rvcih2YWxpZCwgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gdmFsaWQuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHZhbGlkLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSB2YWxpZC5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHZhbGlkLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gdmFsaWQuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfTtcblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gIH1cblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pXG4gIH1cblxuICBfYWRkRGlzYWJsZWRCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICB9XG5cbiAgX3JlbW92ZURpc2FibGVkQnV0dG9uKCkge1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG5cbiAgICAgIHRoaXMuX2FkZERpc2FibGVkQnV0dG9uKClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcmVtb3ZlRGlzYWJsZWRCdXR0b24oKVxuICAgIH1cbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIH1cblxuICAgIG9wZW4oKSB7XG4gICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgfVxuICBcbiAgICBjbG9zZSgpIHtcbiAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB9XG4gIFxuICAgIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcbiAgICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIFxuICAgIF9oYW5kbGVDbGlja092ZXJsYXlQb3B1cCA9IChldnQpID0+IHtcbiAgICAgIGlmIChldnQudGFyZ2V0ID09PSB0aGlzLl9wb3B1cCkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuXG4gICAgfVxuXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICBjb25zdCBwb3B1cENsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pY29uLWNsb3NlJyk7XG4gICAgICBwb3B1cENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9KTtcbiAgXG4gICAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVDbGlja092ZXJsYXlQb3B1cCk7XG4gICAgfVxuICB9IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIFxuICAgIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XG4gICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICAgIHRoaXMuX2Zvcm1Qb3B1cCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xuICAgICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgICB0aGlzLl9idXR0b25Qb3B1cCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uLXNhdmUnKTtcbiAgICAgIHRoaXMuX2luaXRpYWxUZXh0ID0gdGhpcy5fYnV0dG9uUG9wdXAudGV4dENvbnRlbnQ7XG4gICAgfVxuICBcbiAgICBnZXRGb3JtUG9wdXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb3JtUG9wdXA7XG4gICAgICB9XG4gICAgXG4gICAgICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaW5wdXQgPT4gdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5fZm9ybVZhbHVlcylcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XG4gICAgICB9XG4gICAgXG4gICAgICBzZXRJbnB1dFZhbHVlcyhpbnB1dE9iamVjdCkge1xuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiBpbnB1dC52YWx1ZSA9IGlucHV0T2JqZWN0W2lucHV0Lm5hbWVdKTtcbiAgICAgIH1cbiAgICBcbiAgICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIFxuICAgICAgICB0aGlzLl9mb3JtUG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8g0JjQt9C80LXQvdGP0LXQvCDRgdC+0YHRgtC+0Y/QvdC40LUg0LrQvdC+0L/QutC4INCy0L4g0LLRgNC10LzRjyDQt9Cw0LPRgNGD0LfQutC4XG4gICAgICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xuICAgICAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICAgICAgdGhpcy5fYnV0dG9uUG9wdXAudGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fYnV0dG9uUG9wdXAudGV4dENvbnRlbnQgPSB0aGlzLl9pbml0aWFsVGV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIFxuICAgICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuX2Zvcm1Qb3B1cC5yZXNldCgpO1xuICAgICAgICBzdXBlci5jbG9zZSgpXG4gICAgICB9XG4gICAgfSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcblxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZS1mb3RvJyk7XG4gICAgICAgIHRoaXMuX2ltYWdlTmFtZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fdGV4dCcpXG4gICAgfVxuXG4gICAgb3BlbihjYXJkSW1hZ2UpIHtcbiAgICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gY2FyZEltYWdlLmxpbms7XG4gICAgICAgIHRoaXMuX2ltYWdlLmFsdCA9IGNhcmRJbWFnZS5uYW1lO1xuICAgICAgICB0aGlzLl9pbWFnZU5hbWUudGV4dENvbnRlbnQgPSBjYXJkSW1hZ2UubmFtZTtcbiAgICAgICAgc3VwZXIub3BlbigpXG4gICAgICB9XG59IiwiaW1wb3J0IFBvcHVwIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXAuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtUG9wdXAgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcbiAgICB0aGlzLl9idXR0b25Qb3B1cCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uLXNhdmUnKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9pbml0aWFsVGV4dCA9IHRoaXMuX2J1dHRvblBvcHVwLnRleHRDb250ZW50O1xuICB9XG5cbiAgb3BlbihjYXJkSWQpIHtcbiAgICB0aGlzLl9jYXJkSWQgPSBjYXJkSWQ7XG4gICAgc3VwZXIub3BlbigpXG4gIH1cbiAgXG4gICAvL9C80LXRgtC+0LQg0LTQvtCx0LDQstC70Y/QtdGCINC+0LHRgNCw0LHQvtGC0YfQuNC6INC60LvQuNC60LAg0LjQutC+0L3QutC1INC30LDQutGA0YvRgtC40Y8g0Lgg0LTQvtCx0LDQstC70Y/QtdGCINC+0LHRgNCw0LHQvtGC0YfQuNC6INGB0LDQsdC80LjRgtCwINGE0L7RgNC80YsuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICB0aGlzLl9mb3JtUG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2NhcmRJZClcbiAgICB9KTtcbiAgfVxuXG4gIC8vINCY0LfQvNC10L3Rj9C10Lwg0YHQvtGB0YLQvtGP0L3QuNC1INC60L3QvtC/0LrQuCDQstC+INCy0YDQtdC80Y8g0LfQsNCz0YDRg9C30LrQuFxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX2J1dHRvblBvcHVwLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idXR0b25Qb3B1cC50ZXh0Q29udGVudCA9IHRoaXMuX2luaXRpYWxUZXh0O1xuICAgIH1cbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX2Zvcm1Qb3B1cC5yZXNldCgpO1xuICAgIHN1cGVyLmNsb3NlKClcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuXG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgc2VsZWN0b3IpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICB9XG5cbiAgXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XG4gICAgaXRlbXMucmV2ZXJzZSgpLmZvckVhY2goaXRlbSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSlcbiAgfVxuXG4gIFxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yIH0pIHtcbiAgICAgICAgdGhpcy5fbmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuX2Fib3V0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioam9iU2VsZWN0b3IpO1xuICAgICAgICB0aGlzLl9hdmF0YXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XG4gICAgfVxuXG4gICAgICBnZXRVc2VySW5mbygpIHtcbiAgICAgICAgdGhpcy5fcHJvZmlsZU9iamVjdCA9IHsgfTtcbiAgICAgICAgdGhpcy5fcHJvZmlsZU9iamVjdC5uYW1lID0gdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgICAgIHRoaXMuX3Byb2ZpbGVPYmplY3QuYWJvdXQgPSB0aGlzLl9hYm91dEVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9maWxlT2JqZWN0O1xuICAgICAgfVxuXG4gICAgICBzZXRVc2VySW5mbyhmb3JtRGF0YSkge1xuICAgICAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IGZvcm1EYXRhLm5hbWU7XG4gICAgICAgIHRoaXMuX2Fib3V0RWxlbWVudC50ZXh0Q29udGVudCA9IGZvcm1EYXRhLmFib3V0O1xuICAgICAgICB0aGlzLl9hdmF0YXJFbGVtZW50LnNyYyA9IGZvcm1EYXRhLmF2YXRhcjtcbiAgICAgIH1cblxuICAgICAgc2V0VXNlcklkKGZvcm1EYXRhKSB7XG4gICAgICAgIHJldHVybiBmb3JtRGF0YS5faWRcbiAgICAgIH1cblxuICAgICAgdXNlcklkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgICB9XG5cbiAgICAgIHNldFVzZXJBdmF0YXIoYXZhdGFyRGF0YSkge1xuICAgICAgICB0aGlzLl9hdmF0YXJTZWxlY3Rvci5zcmMgPSBhdmF0YXJEYXRhLmF2YXRhcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAiLCJpbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm0uanMnO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcbmltcG9ydCBBcGkgZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnO1xuXG5pbXBvcnQge1xuICB2YWxpZGF0aW9uQ29uZmlnLFxuICBidXR0b25FZGl0LFxuICBidXR0b25BZGQsXG4gIGF2YXRhckVkaXQsXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5cbmltcG9ydCAnLi9pbmRleC5jc3MnO1xuXG5sZXQgdXNlcklkO1xubGV0IGNhcmREZWxldGU7XG5cblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIHVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNTInLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogJ2RmMTJlZDAxLWY2OTMtNGI1ZS1iNmZlLWFhNDYyZDBkNWI1OCcsXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICB9LFxufSlcblxuLy/QrdC60LfQtdC80L/Qu9GP0YAg0LrQu9Cw0YHRgdCwIFNlY3Rpb25cbmNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbih7XG4gIHJlbmRlcmVyOiAoZGF0YU9iaikgPT4ge1xuICAgIHNlY3Rpb24uYWRkSXRlbShjcmVhdGVDYXJkKGRhdGFPYmopKTtcbiAgfVxufSxcbiAgJy5lbGVtZW50cydcbilcblxuLy/QodC+0LfQtNCw0ZHQvCDQvNCw0YHRgdC40LIg0YEg0L/RgNC+0LzQuNGB0LDQvNC4XG5jb25zdCBhcnJheVByb21pc2VzID0gW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldO1xuUHJvbWlzZS5hbGwoYXJyYXlQcm9taXNlcylcbiAgLnRoZW4oKFt1c2VyRGF0YSwgY2FyZHNdKSA9PiB7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEpO1xuICAgIHVzZXJJbmZvLnNldFVzZXJJZCh1c2VyRGF0YSk7XG4gICAgdXNlcklkID0gdXNlckRhdGEuX2lkXG4gICAgc2VjdGlvbi5yZW5kZXJJdGVtcyhjYXJkcyk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YClcbiAgfSk7XG5cbi8v0YTRg9C90LrRhtC40Y8g0YHQvtC30LTQsNC90LjRjyDQutCw0YDRgtC+0YfQutC4XG5mdW5jdGlvbiBjcmVhdGVDYXJkKGRhdGFPYmopIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGRhdGFPYmosICcudGVtcGxhdGUnLCB7XG4gICAgaGFuZGxlQ2FyZENsaWNrOiAoKSA9PiB7XG4gICAgICBwb3B1cFdpdGhJbWFnZS5vcGVuKGRhdGFPYmopXG4gICAgfSxcblxuICAgIGhhbmRsZUFkZExpa2U6ICgpID0+IHtcbiAgICAgIGFwaS5hZGRMaWtlQ2FyZChkYXRhT2JqLl9pZClcbiAgICAgICAgLnRoZW4oZGF0YU9iaiA9PiB7XG4gICAgICAgICAgY2FyZC5zZXRMaWtlSW5mbyhkYXRhT2JqLmxpa2VzKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn0J7RiNC40LHQutCwINC/0YDQuCDQtNC+0LHQsNCy0LvQtdC90LjQuCBMaWtlINC60LDRgNGC0L7Rh9C60LgnLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgaGFuZGxlUmVtb3ZlTGlrZTogKCkgPT4ge1xuICAgICAgYXBpLnJlbW92ZUxpa2VDYXJkKGRhdGFPYmouX2lkKVxuICAgICAgICAudGhlbihkYXRhT2JqID0+IHtcbiAgICAgICAgICBjYXJkLnNldExpa2VJbmZvKGRhdGFPYmoubGlrZXMpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfQntGI0LjQsdC60LAg0L/RgNC4INGD0LTQsNC70LXQvdC40LggTGlrZSDQutCw0YDRgtC+0YfQutC4JywgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIGhhbmRsZURlbGV0ZUJ1dG9vbkNsaWNrOiAoY2FyZElkKSA9PiB7XG4gICAgICBwb3B1cENvbmZpcm1Gb3JtLm9wZW4oY2FyZElkKTtcbiAgICAgIGNhcmREZWxldGUgPSBjYXJkXG4gICAgfVxuICB9LFxuICAgIHVzZXJJZFxuICApO1xuICBjb25zdCBuZXdDYXJkID0gY2FyZC5jcmVhdGVDYXJkKCk7XG4gIHJldHVybiBuZXdDYXJkO1xufVxuXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwX2ltYWdlJylcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmJ1dHRvbkFkZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcG9wdXBBZGRGb3JtLm9wZW4oKTtcbiAgY29uc3QgZm9ybUFkZCA9IHBvcHVwQWRkRm9ybS5nZXRGb3JtUG9wdXAoKTtcbiAgZm9ybVZhbGlkYXRvcnNbZm9ybUFkZC5nZXRBdHRyaWJ1dGUoJ25hbWUnKV0ucmVzZXRWYWxpZGF0aW9uKClcbn0pO1xuXG5jb25zdCBwb3B1cEFkZEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6ICcucG9wdXAtYWRkJyxcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGNhcmQpID0+IHtcbiAgICBwb3B1cEFkZEZvcm0ucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgICBhcGkuY3JlYXRlQ2FyZChjYXJkLm5hbWUsIGNhcmQubGluaylcbiAgICAgIC50aGVuKGZvcm1EYXRhID0+IHtcbiAgICAgICAgc2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQoZm9ybURhdGEpKTtcbiAgICAgICAgcG9wdXBBZGRGb3JtLmNsb3NlKClcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn0J7RiNC40LHQutCwINC/0YDQuCDQtNC+0LHQsNCy0LvQtdC90LjQuCDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LgnLCBlcnIpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgcG9wdXBBZGRGb3JtLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICAgICAgfSlcbiAgfVxufSk7XG5wb3B1cEFkZEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBuYW1lU2VsZWN0b3I6ICcucHJvZmlsZV9fbmFtZScsXG4gIGpvYlNlbGVjdG9yOiAnLnByb2ZpbGVfX2Fib3V0JyxcbiAgYXZhdGFyU2VsZWN0b3I6ICcucHJvZmlsZV9fYXZhdGFyJyxcbn0pO1xuXG5jb25zdCBwb3B1cEVkaXRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiAnLnBvcHVwLWVkaXQnLFxuICBoYW5kbGVGb3JtU3VibWl0OiAodXNlcikgPT4ge1xuICAgIHBvcHVwRWRpdEZvcm0ucmVuZGVyTG9hZGluZyh0cnVlKVxuICAgIGFwaS5lZGl0VXNlckluZm8odXNlci5uYW1lLCB1c2VyLmFib3V0KVxuICAgICAgLnRoZW4oKGZvcm1EYXRhKSA9PiB7XG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGZvcm1EYXRhKTtcbiAgICAgICAgcG9wdXBFZGl0Rm9ybS5jbG9zZSgpXG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfQntGI0LjQsdC60LAg0L/RgNC4INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Lgg0L/RgNC+0YTQuNC70Y8nLCBlcnIpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgcG9wdXBFZGl0Rm9ybS5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pXG4gIH0sXG59KTtcbnBvcHVwRWRpdEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuYnV0dG9uRWRpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcG9wdXBFZGl0Rm9ybS5vcGVuKCk7XG4gIGNvbnN0IGZvcm1FZGl0ID0gcG9wdXBFZGl0Rm9ybS5nZXRGb3JtUG9wdXAoKTtcbiAgY29uc3Qgb2JqZWN0UHJvZmlsZSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIHBvcHVwRWRpdEZvcm0uc2V0SW5wdXRWYWx1ZXMob2JqZWN0UHJvZmlsZSk7XG4gIGZvcm1WYWxpZGF0b3JzW2Zvcm1FZGl0LmdldEF0dHJpYnV0ZSgnbmFtZScpXS5yZXNldFZhbGlkYXRpb24oKVxufSk7XG5cbi8v0J7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0YEg0YTQvtGA0LzQvtC5INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LDQstCw0YLQsNGA0LBcbmF2YXRhckVkaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIHBvcHVwQXZhdGFyRm9ybS5vcGVuKCk7XG4gIGNvbnN0IGZvcm1BdmF0YXIgPSBwb3B1cEF2YXRhckZvcm0uZ2V0Rm9ybVBvcHVwKCk7XG4gIGZvcm1WYWxpZGF0b3JzW2Zvcm1BdmF0YXIuZ2V0QXR0cmlidXRlKCduYW1lJyldLnJlc2V0VmFsaWRhdGlvbigpXG59KTtcblxuLy/RjdC60LfQtdC80L/Qu9GP0YAg0YTQvtGA0LzRiyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINCw0LLQsNGC0LDRgNCwXG5jb25zdCBwb3B1cEF2YXRhckZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6ICcucG9wdXAtYXZhdGFyJyxcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKHVzZXJEYXRhKSA9PiB7XG4gICAgcG9wdXBBdmF0YXJGb3JtLnJlbmRlckxvYWRpbmcodHJ1ZSlcbiAgICBhcGkuZWRpdFVzZXJBdmF0YXIodXNlckRhdGEuYXZhdGFyKVxuICAgICAgLnRoZW4oZm9ybURhdGEgPT4ge1xuICAgICAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKGZvcm1EYXRhKTtcbiAgICAgICAgcG9wdXBBdmF0YXJGb3JtLmNsb3NlXG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQuCDQsNCy0LDRgtCw0YDQsCcsIGVycik7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBwb3B1cEF2YXRhckZvcm0ucmVuZGVyTG9hZGluZyhmYWxzZSk7XG4gICAgICB9KVxuICB9LFxufSk7XG5wb3B1cEF2YXRhckZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy/RjdC60LfQtdC80L/Qu9GP0YAg0YTQvtGA0LzRiyDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjRjyDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbmNvbnN0IHBvcHVwQ29uZmlybUZvcm0gPSBuZXcgUG9wdXBXaXRoQ29uZmlybSh7XG4gIHBvcHVwU2VsZWN0b3I6ICcucG9wdXAtY29uZmlybScsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChjYXJkSWQpID0+IHtcbiAgICBwb3B1cENvbmZpcm1Gb3JtLnJlbmRlckxvYWRpbmcodHJ1ZSlcbiAgICBhcGkuZGVsZXRlQ2FyZChjYXJkSWQpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGNhcmREZWxldGUuaGFuZGxlRGVsZXRlQ2FyZCgpO1xuICAgICAgICBwb3B1cENvbmZpcm1Gb3JtLmNsb3NlKClcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn0J7RiNC40LHQutCwINC/0YDQuCDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjQuCDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LgnLCBlcnIpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgcG9wdXBDb25maXJtRm9ybS5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pXG4gIH0sXG59KTtcbnBvcHVwQ29uZmlybUZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fVxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3RvcikpXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtRWxlbWVudClcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpXG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xuICAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4gIH0pO1xufTtcblxuZW5hYmxlVmFsaWRhdGlvbih2YWxpZGF0aW9uQ29uZmlnKTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICB0aGlzLl91cmwgPSBjb25maWcudXJsO1xuICAgICAgICB0aGlzLl9oZWFkZXIgPSBjb25maWcuaGVhZGVycztcbiAgICB9XG5cbiAgICBfcmVxdWVzdFJlc3VsdChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgICAgIGDQntGI0LjQsdC60LAgJHtyZXNwb25zZS5zdGF0dXN9IC0gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8v0JfQsNC/0YDQvtGBINC60LDRgNGC0L7Rh9C10Log0YEg0YHQtdC10YDQstC10YDQsFxuICAgICAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHtcbiAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJ9KVxuICAgICAgICAgIC50aGVuKHRoaXMuX3JlcXVlc3RSZXN1bHQpXG4gICAgICB9XG5cbiAgICAgIC8v0JfQsNC/0YDQvtGBINC00LDQvdC90YvRhSDQv9GA0L7RhNC40LvRjyDRgSDRgdC10LXRgNCy0LXRgNCwXG4gICAgICBnZXRVc2VySW5mbygpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJ9KVxuICAgICAgICAgICAgLnRoZW4odGhpcy5fcmVxdWVzdFJlc3VsdClcbiAgICB9XG5cbiAgICBlZGl0VXNlckluZm8obmFtZSwgYWJvdXQpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXIsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWUsIGFib3V0IH0pXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHRoaXMuX3JlcXVlc3RSZXN1bHQpXG4gICAgfVxuXG4gICAgZWRpdFVzZXJBdmF0YXIoYXZhdGFyKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcixcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYXZhdGFyIH0pXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHRoaXMuX3JlcXVlc3RSZXN1bHQpXG4gICAgfVxuXG4gICAgY3JlYXRlQ2FyZChuYW1lLCBsaW5rKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXIsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWUsIGxpbmsgfSlcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4odGhpcy5fcmVxdWVzdFJlc3VsdClcbiAgICB9XG5cbiAgICBhZGRMaWtlQ2FyZChjYXJkSWQpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcixcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4odGhpcy5fcmVxdWVzdFJlc3VsdClcbiAgICAgIH1cbiAgICBcbiAgICAgIHJlbW92ZUxpa2VDYXJkKGNhcmRJZCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXIsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHRoaXMuX3JlcXVlc3RSZXN1bHQpXG4gICAgICB9XG4gICAgXG4gICAgXG4gICAgICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhjYXJkSWQpXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcixcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4odGhpcy5fcmVxdWVzdFJlc3VsdClcbiAgICAgIH1cbn0iLCJleHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ9CQ0YDRhdGL0LcnLFxuICAgICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICfQp9C10LvRj9Cx0LjQvdGB0LrQsNGPINC+0LHQu9Cw0YHRgtGMJyxcbiAgICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAn0JjQstCw0L3QvtCy0L4nLFxuICAgICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2l2YW5vdm8uanBnJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAn0JrQsNC80YfQsNGC0LrQsCcsXG4gICAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2FtY2hhdGthLmpwZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ9Cl0L7Qu9C80L7Qs9C+0YDRgdC60LjQuSDRgNCw0LnQvtC9JyxcbiAgICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAn0JHQsNC50LrQsNC7JyxcbiAgICAgICAgbGluazogJ2h0dHBzOi8vYWxsLWFmb3Jpem15LnJ1L3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDIyLzAyL3NjYWxlXzEyMDAtOC5qcGcnXG4gICAgfVxuXTtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XG4gICAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcbiAgICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19pbnB1dCcsXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbi1zYXZlJyxcbiAgICBwb3B1cEVycm9yU2VsZWN0b3I6ICcucG9wdXBfX2Vycm9yJyxcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX2J1dHRvbi1zYXZlX2Rpc2FibGVkJyxcbiAgICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXG4gICAgZXJyb3JDbGFzczogJ3BvcHVwX19lcnJvcl92aXNpYmxlJ1xufTtcblxuZXhwb3J0IGNvbnN0IGltYWdlRm90byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UtZm90bycpO1xuZXhwb3J0IGNvbnN0IHBvcHVwSW1hZ2VOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX190ZXh0Jyk7XG5leHBvcnQgY29uc3QgYnV0dG9uRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvbkFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyk7XG5leHBvcnQgY29uc3QgYXZhdGFyRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTsiXSwibmFtZXMiOlsiQ2FyZCIsImRhdGFPYmoiLCJjYXJkU2VsZWN0b3IiLCJ1c2VySWQiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVBZGRMaWtlIiwiaGFuZGxlUmVtb3ZlTGlrZSIsImhhbmRsZURlbGV0ZUJ1dG9vbkNsaWNrIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUFkZExpa2UiLCJfaGFuZGxlUmVtb3ZlTGlrZSIsIl9oYW5kbGVEZWxldGVCdXRvb25DbGljayIsIl91c2VySWQiLCJfbGlrZUFycmF5IiwibGlrZXMiLCJfb3duZXIiLCJvd25lciIsIl9saWtlcyIsIl9jYXJkSWQiLCJfaWQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJyZW1vdmUiLCJfbGlrZUJ1dHRvbiIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiYXJyYXkiLCJmaW5kIiwiaXRlbSIsImFkZCIsInRvZ2dsZSIsIl9kZWxldGVCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiX2FkZExpa2UiLCJfY2FyZEltYWdlIiwiX2xpa2VDb3VudCIsInRleHRDb250ZW50IiwibGVuZ3RoIiwiX3NldFN0YXRlTGlrZSIsIl9nZXRUZW1wbGF0ZSIsIl9jYXJkTmFtZSIsInNyYyIsImFsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsIkZvcm1WYWxpZGF0b3IiLCJ2YWxpZCIsImZvcm1FbGVtZW50IiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Zvcm1FbGVtZW50IiwiX2J1dHRvbkVsZW1lbnQiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0RWxlbWVudCIsImVycm9yRWxlbWVudCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJ2YWxpZGl0eSIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInNvbWUiLCJkaXNhYmxlZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfYWRkRGlzYWJsZWRCdXR0b24iLCJfcmVtb3ZlRGlzYWJsZWRCdXR0b24iLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImV2dCIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVDbGlja092ZXJsYXlQb3B1cCIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2Zvcm1Qb3B1cCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2J1dHRvblBvcHVwIiwiX2luaXRpYWxUZXh0IiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwiY29uc29sZSIsImxvZyIsImlucHV0T2JqZWN0IiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpc0xvYWRpbmciLCJyZXNldCIsIlBvcHVwV2l0aEltYWdlIiwiX2ltYWdlIiwiX2ltYWdlTmFtZSIsImNhcmRJbWFnZSIsIlBvcHVwV2l0aENvbmZpcm0iLCJjYXJkSWQiLCJTZWN0aW9uIiwic2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtcyIsInJldmVyc2UiLCJlbGVtZW50IiwicHJlcGVuZCIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9uYW1lRWxlbWVudCIsIl9hYm91dEVsZW1lbnQiLCJfYXZhdGFyRWxlbWVudCIsIl9wcm9maWxlT2JqZWN0IiwiYWJvdXQiLCJmb3JtRGF0YSIsImF2YXRhciIsImF2YXRhckRhdGEiLCJfYXZhdGFyU2VsZWN0b3IiLCJjYXJkRGVsZXRlIiwiQXBpIiwiY29uZmlnIiwiX3VybCIsInVybCIsIl9oZWFkZXIiLCJoZWFkZXJzIiwicmVzcG9uc2UiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImZldGNoIiwidGhlbiIsIl9yZXF1ZXN0UmVzdWx0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJidXR0b25FZGl0IiwiYnV0dG9uQWRkIiwiYXZhdGFyRWRpdCIsImFwaSIsImF1dGhvcml6YXRpb24iLCJzZWN0aW9uIiwiYWRkSXRlbSIsImNyZWF0ZUNhcmQiLCJhcnJheVByb21pc2VzIiwiZ2V0VXNlckluZm8iLCJnZXRJbml0aWFsQ2FyZHMiLCJjYXJkIiwicG9wdXBXaXRoSW1hZ2UiLCJvcGVuIiwiYWRkTGlrZUNhcmQiLCJzZXRMaWtlSW5mbyIsImNhdGNoIiwiZXJyIiwicmVtb3ZlTGlrZUNhcmQiLCJwb3B1cENvbmZpcm1Gb3JtIiwiYWxsIiwidXNlckRhdGEiLCJjYXJkcyIsInVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJzZXRVc2VySWQiLCJyZW5kZXJJdGVtcyIsInNldEV2ZW50TGlzdGVuZXJzIiwicG9wdXBBZGRGb3JtIiwiZm9ybUFkZCIsImdldEZvcm1Qb3B1cCIsImZvcm1WYWxpZGF0b3JzIiwiZ2V0QXR0cmlidXRlIiwicmVzZXRWYWxpZGF0aW9uIiwicmVuZGVyTG9hZGluZyIsImZpbmFsbHkiLCJwb3B1cEVkaXRGb3JtIiwidXNlciIsImVkaXRVc2VySW5mbyIsImZvcm1FZGl0Iiwib2JqZWN0UHJvZmlsZSIsInNldElucHV0VmFsdWVzIiwicG9wdXBBdmF0YXJGb3JtIiwiZm9ybUF2YXRhciIsImVkaXRVc2VyQXZhdGFyIiwic2V0VXNlckF2YXRhciIsImRlbGV0ZUNhcmQiLCJoYW5kbGVEZWxldGVDYXJkIiwiZm9ybVNlbGVjdG9yIiwicG9wdXBFcnJvclNlbGVjdG9yIiwidmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJlbmFibGVWYWxpZGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==