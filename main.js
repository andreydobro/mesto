(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r,o){var i=r.handleCardClick,u=r.handleAddLike,a=r.handleRemoveLike,c=r.handleDeleteButoonClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e.name,this._link=e.link,this._cardSelector=n,this._handleCardClick=i,this._handleAddLike=u,this._handleRemoveLike=a,this._handleDeleteButoonClick=c,this._userId=o,this._likeArray=e.likes,this._owner=e.owner,this._likes=e.likes}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"handleDeleteCard",value:function(){this._element.remove(),this._element=null}},{key:"_addLike",value:function(){this._likeButton.classList.contains("element__like_active")?this._handleRemoveLike(this):this._handleAddLike(this)}},{key:"_setStateLike",value:function(e){var t=this;e.find((function(e){return e._id===t._userId}))?this._likeButton.classList.add("element__like_active"):this._likeButton.classList.remove("element__like_active")}},{key:"_handleLikeCard",value:function(){this._likeButton.classList.toggle("element__like_active")}},{key:"_setEventListeners",value:function(){var e=this;this._deleteButton.addEventListener("click",(function(){e._handleDeleteButoonClick()})),this._likeButton.addEventListener("click",(function(){e._addLike()})),this._cardImage.addEventListener("click",(function(){e._handleCardClick()}))}},{key:"setLikeInfo",value:function(e){this._likeArray=e,this._likeCount.textContent=this._likeArray.length,this._setStateLike(this._likeArray)}},{key:"createCard",value:function(){return this._element=this._getTemplate(),this._cardImage=this._element.querySelector(".element__foto"),this._cardName=this._element.querySelector(".element__title"),this._likeButton=this._element.querySelector(".element__like"),this._deleteButton=this._element.querySelector(".element__back"),this._likeCount=this._element.querySelector(".element__like-count"),this._cardName.textContent=this._name,this._cardImage.src=this._link,this._cardImage.alt=this._name,this._likeCount.textContent=this._likes.length,this._setStateLike(this._likes),this._userId!==this._owner._id&&this._deleteButton.remove(),this._setEventListeners(),this._element}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._popupErrorSelector=t.popupErrorSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formElement=n,this._buttonElement=this._formElement.querySelector(this._submitButtonSelector),this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector))}var t,r;return t=e,(r=[{key:"_showInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_addDisabledButton",value:function(){this._buttonElement.disabled=!0,this._buttonElement.classList.add(this._inactiveButtonClass)}},{key:"_removeDisabledButton",value:function(){this._buttonElement.disabled=!1,this._buttonElement.classList.remove(this._inactiveButtonClass)}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._addDisabledButton():this._removeDisabledButton()}},{key:"resetErrorPopupInput",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)})),this._toggleButtonState()}},{key:"enableValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"resetValidation",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)})),this._toggleButtonState()}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"_handleEscClose",(function(e){"Escape"===e.key&&n.close()})),i(this,"_handleClickOverlayPopup",(function(e){e.target===n._popup&&n.close()})),this._popup=document.querySelector(t)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".popup__icon-close").addEventListener("click",(function(){e.close()})),this._popup.addEventListener("mousedown",this._handleClickOverlayPopup)}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=s(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},l.apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function u(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,n))._popup=document.querySelector(n),t._formPopup=t._popup.querySelector(".popup__form"),t._inputList=t._popup.querySelectorAll(".popup__input"),t._handleFormSubmit=r,t}return t=u,(n=[{key:"getFormPopup",value:function(){return this._formPopup}},{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){return e._formValues[t.name]=t.value})),console.log(this._formValues),this._formValues}},{key:"setInputValues",value:function(e){this._inputList.forEach((function(t){return t.value=e[t.name]}))}},{key:"setEventListeners",value:function(){var e=this;l(h(u.prototype),"setEventListeners",this).call(this),this._formPopup.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues()),e.close()}))}},{key:"close",value:function(){this._formPopup.reset(),l(h(u.prototype),"close",this).call(this)}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(u);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=m(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},v.apply(this,arguments)}function m(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function k(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(r);if(o){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return k(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._image=t._popup.querySelector(".popup__image-foto"),t._imageName=t._popup.querySelector(".popup__text"),t}return t=u,(n=[{key:"open",value:function(e){this._image.src=e.link,this._image.alt=e.name,this._imageName.textContent=e.name,v(g(u.prototype),"open",this).call(this)}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(u);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=C(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},O.apply(this,arguments)}function C(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}function P(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(o){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return P(this,e)});function u(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,n))._popup=document.querySelector(n),t._formPopup=t._popup.querySelector(".popup__form"),t._buttonPopup=t._popup.querySelector(".popup__button-save"),t._handleFormSubmit=r,t._initialText=t._buttonPopup.textContent,t}return t=u,(n=[{key:"open",value:function(e){this._cardId=e._id,O(j(u.prototype),"open",this).call(this)}},{key:"_getCardId",value:function(){return this._cardId}},{key:"setEventListeners",value:function(){var e=this;O(j(u.prototype),"setEventListeners",this).call(this),this._formPopup.addEventListener("submit",(function(t){t.preventDefault(),e._buttonPopup.textContent="Сохранение...",e._handleFormSubmit(e._getCardId()).then((function(){e.close()})).finally((function(){e._buttonPopup.textContent=e._initialText}))}))}},{key:"close",value:function(){this._formPopup.reset(),O(j(u.prototype),"close",this).call(this)}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(u);function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.reverse().forEach((function(e){return t._renderer(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(){function e(t){var n=t.nameSelector,r=t.jobSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameElement=document.querySelector(n),this._aboutElement=document.querySelector(r),this._avatarElement=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this._profileObject={},this._profileObject.name=this._nameElement.textContent,this._profileObject.about=this._aboutElement.textContent,this._profileObject}},{key:"setUserInfo",value:function(e){this._nameElement.textContent=e.name,this._aboutElement.textContent=e.about,this._avatarElement.src=e.avatar}},{key:"setUserId",value:function(e){return e._id}},{key:"userId",value:function(){return this._id}},{key:"setUserAvatar",value:function(e){this._avatarSelector.src=e.avatar}}])&&B(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x,D,U=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._header=t.headers}var t,n;return t=e,(n=[{key:"_requestResult",value:function(e){return e.ok?e.json():Promise.reject("Ошибка ".concat(e.status," - ").concat(e.statusText))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._header}).then(this._requestResult)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._header}).then(this._requestResult)}},{key:"editUserInfo",value:function(e,t){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._header,body:JSON.stringify({name:e,about:t})}).then(this._requestResult)}},{key:"editUserAvatar",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._header,body:JSON.stringify({avatar:e})}).then(this._requestResult)}},{key:"createCard",value:function(e,t){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._header,body:JSON.stringify({name:e,link:t})}).then(this._requestResult)}},{key:"addLikeCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this._header}).then(this._requestResult)}},{key:"removeLikeCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this._header}).then(this._requestResult)}},{key:"deleteCard",value:function(e){return console.log(e),fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._header}).then(this._requestResult)}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),V=(document.querySelector(".popup__image-foto"),document.querySelector(".popup__text"),document.querySelector(".profile__edit-button")),F=document.querySelector(".profile__add-button"),N=document.querySelector(".profile__avatar");function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var H=new U({url:"https://mesto.nomoreparties.co/v1/cohort-52",headers:{authorization:"df12ed01-f693-4b5e-b6fe-aa462d0d5b58","Content-Type":"application/json"}}),M=new R({renderer:function(e){M.addItem($(e))}},".elements"),z=[H.getUserInfo(),H.getInitialCards()];function $(e){var n=new t(e,".template",{handleCardClick:function(){G.open(e)},handleAddLike:function(){H.addLikeCard(e._id).then((function(e){n.setLikeInfo(e.likes)})).catch((function(e){console.log("Ошибка при добавлении Like карточки",e)}))},handleRemoveLike:function(){H.removeLikeCard(e._id).then((function(e){n.setLikeInfo(e.likes)})).catch((function(e){console.log("Ошибка при удалении Like карточки",e)}))},handleDeleteButoonClick:function(){Y.open(e),D=n}},x);return n.createCard()}Promise.all(z).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];Q.setUserInfo(o),Q.setUserId(o),x=o._id,M.renderItems(i)})).catch((function(e){console.log("Ошибка: ".concat(e))}));var G=new S(".popup_image");G.setEventListeners(),F.addEventListener("click",(function(){K.open();var e=K.getFormPopup();ee[e.getAttribute("name")].resetValidation()}));var K=new d({popupSelector:".popup-add",handleFormSubmit:function(e){return H.createCard(e.name,e.link).then((function(e){M.addItem($(e))})).catch((function(e){console.log("Ошибка при добавлении новой карточки",e)}))}});K.setEventListeners();var Q=new A({nameSelector:".profile__name",jobSelector:".profile__about",avatarSelector:".profile__avatar"}),W=new d({popupSelector:".popup-edit",handleFormSubmit:function(e){return H.editUserInfo(e.name,e.about).then((function(e){Q.setUserInfo(e)})).catch((function(e){console.log("Ошибка при редактировании профиля",e)}))}});W.setEventListeners(),V.addEventListener("click",(function(){W.open();var e=W.getFormPopup(),t=Q.getUserInfo();W.setInputValues(t),ee[e.getAttribute("name")].resetValidation()})),N.addEventListener("click",(function(){X.open();var e=X.getFormPopup();ee[e.getAttribute("name")].resetValidation()}));var X=new d({popupSelector:".popup-avatar",handleFormSubmit:function(e){return H.editUserAvatar(e.avatar).then((function(e){Q.setUserAvatar(e)})).catch((function(e){console.log("Ошибка при редактировании аватара",e)}))}});X.setEventListeners();var Y=new I({popupSelector:".popup-confirm",handleFormSubmit:function(e){return H.deleteCard(e).then((function(){D.handleDeleteCard()})).catch((function(e){console.log("Ошибка при подтверждении удаления карточки",e)}))}});Y.setEventListeners();var Z,ee={};Z={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button-save",popupErrorSelector:".popup__error",inactiveButtonClass:"popup__button-save_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},Array.from(document.querySelectorAll(Z.formSelector)).forEach((function(e){var t=new r(Z,e),n=e.getAttribute("name");ee[n]=t,t.enableValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxFQUN6QixJQUNDeUMsT0FBTSxTQUFDQyxHQUNON0UsUUFBUUMsSUFBSSxvQ0FBcUM0RSxFQUNuRCxHQUNGLElBRUZ1QixFQUFnQmIsb0JBR2hCLElBQU1SLEVBQW1CLElBQUlyRSxFQUFpQixDQUM1QzFCLGNBQWUsaUJBQ2ZVLGlCQUFrQixTQUFDaUUsR0FDakIsT0FBT0ksRUFBSXlDLFdBQVc3QyxHQUNyQjVDLE1BQUssV0FDSndCLEVBQVdrRSxrQkFDYixJQUNDN0IsT0FBTSxTQUFDQyxHQUNON0UsUUFBUUMsSUFBSSw2Q0FBOEM0RSxFQUM1RCxHQUNGLElBRUZFLEVBQWlCUSxvQkFFakIsSUFDMEI5QyxFQURwQmtELEdBQWlCLENBQUMsRUFDRWxELEVFckpNLENBQzVCNUYsYUFBYyxlQUNkRSxjQUFlLGdCQUNmRSxxQkFBc0Isc0JBQ3RCRSxtQkFBb0IsZ0JBQ3BCRSxvQkFBcUIsOEJBQ3JCRSxnQkFBaUIsMEJBQ2pCRSxXQUFZLHdCRitJR0ksTUFBTUMsS0FBS2pELFNBQVNrRCxpQkFBaUIwRSxFQUFPNUYsZUFDcEQrQixTQUFRLFNBQUNqQyxHQUNoQixJQUFNK0osRUFBWSxJQUFJakssRUFBY2dHLEVBQVE5RixHQUN0Q2dLLEVBQVdoSyxFQUFZaUosYUFBYSxRQUMxQ0QsR0FBZWdCLEdBQVlELEVBQzNCQSxFQUFVRSxrQkFDWixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gICAgY29uc3RydWN0b3IoZGF0YU9iaiwgY2FyZFNlbGVjdG9yLCB7aGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVBZGRMaWtlLCBoYW5kbGVSZW1vdmVMaWtlLCBoYW5kbGVEZWxldGVCdXRvb25DbGlja30sIHVzZXJJZCkge1xuICAgICAgICB0aGlzLl9uYW1lID0gZGF0YU9iai5uYW1lO1xuICAgICAgICB0aGlzLl9saW5rID0gZGF0YU9iai5saW5rO1xuICAgICAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICAgICAgdGhpcy5faGFuZGxlQWRkTGlrZSA9IGhhbmRsZUFkZExpa2U7XG4gICAgICAgIHRoaXMuX2hhbmRsZVJlbW92ZUxpa2UgPSBoYW5kbGVSZW1vdmVMaWtlO1xuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXRvb25DbGljayA9IGhhbmRsZURlbGV0ZUJ1dG9vbkNsaWNrO1xuICAgICAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XG4gICAgICAgIHRoaXMuX2xpa2VBcnJheSA9IGRhdGFPYmoubGlrZXM7XG4gICAgICAgIHRoaXMuX293bmVyID0gZGF0YU9iai5vd25lclxuICAgICAgICB0aGlzLl9saWtlcyA9IGRhdGFPYmoubGlrZXM7XG4gICAgfVxuXG4gICAgX2dldFRlbXBsYXRlKCkge1xuICAgICAgICBjb25zdCBuZXdDYXJkID0gZG9jdW1lbnRcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcikuY29udGVudFxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50JylcbiAgICAgICAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIG5ld0NhcmQ7XG4gICAgfVxuXG4gICAgaGFuZGxlRGVsZXRlQ2FyZCgpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgX2FkZExpa2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnZWxlbWVudF9fbGlrZV9hY3RpdmUnKSkge1xuICAgICAgICAgIHRoaXMuX2hhbmRsZVJlbW92ZUxpa2UodGhpcylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9oYW5kbGVBZGRMaWtlKHRoaXMpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgIF9zZXRTdGF0ZUxpa2UoYXJyYXkpIHtcbiAgICAgICAgaWYgKGFycmF5LmZpbmQoaXRlbSA9PiBpdGVtLl9pZCA9PT0gdGhpcy5fdXNlcklkKSkge1xuICAgICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnZWxlbWVudF9fbGlrZV9hY3RpdmUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2VsZW1lbnRfX2xpa2VfYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgIF9oYW5kbGVMaWtlQ2FyZCgpIHtcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvblxuICAgICAgICAgICAgLmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRfX2xpa2VfYWN0aXZlJyk7XG4gICAgfVxuXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLl9kZWxldGVCdXR0b25cbiAgICAgICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXRvb25DbGljaygpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvblxuICAgICAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZExpa2UoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2NhcmRJbWFnZVxuICAgICAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0TGlrZUluZm8oYXJyYXkpIHtcbiAgICAgICAgdGhpcy5fbGlrZUFycmF5ID0gYXJyYXk7XG4gICAgICAgIHRoaXMuX2xpa2VDb3VudC50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VBcnJheS5sZW5ndGg7XG4gICAgICAgIHRoaXMuX3NldFN0YXRlTGlrZSh0aGlzLl9saWtlQXJyYXkpO1xuICAgICAgfVxuXG4gICAgY3JlYXRlQ2FyZCgpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG5cbiAgICAgICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fZm90bycpO1xuICAgICAgICB0aGlzLl9jYXJkTmFtZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3RpdGxlJyk7XG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlJyk7XG4gICAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2JhY2snKTtcbiAgICAgICAgdGhpcy5fbGlrZUNvdW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZS1jb3VudCcpO1xuXG4gICAgICAgIHRoaXMuX2NhcmROYW1lLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICAgICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xuXG4gICAgICAgIC8vINC+0L/RgNC10LTQtdC70LXQvdC40LUg0LrQvtC70LjRh9C10YHRgtCy0LAg0LvQsNC50LrQvtCyINC4INGB0YLQsNGC0YPRgSDQutC90L7Qv9C60Lgg0LvQsNC50LpcbiAgICAgIHRoaXMuX2xpa2VDb3VudC50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcbiAgICAgIHRoaXMuX3NldFN0YXRlTGlrZSh0aGlzLl9saWtlcykgXG4gIFxuICAgICAgLy8g0LrQvtGA0LfQuNC90LAg0YLQvtC70YzQutC+INGDINGB0LLQvtC40YUg0LrQsNGA0YLQvtGH0LXQulxuICAgICAgaWYgKHRoaXMuX3VzZXJJZCAhPT0gdGhpcy5fb3duZXIuX2lkKSB7XG4gICAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5yZW1vdmUoKTtcbiAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgICAgICAgXG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBcbiAgY29uc3RydWN0b3IodmFsaWQsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gdmFsaWQuZm9ybVNlbGVjdG9yO1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSB2YWxpZC5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gdmFsaWQuc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5fcG9wdXBFcnJvclNlbGVjdG9yID0gdmFsaWQucG9wdXBFcnJvclNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSB2YWxpZC5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHZhbGlkLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gdmFsaWQuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xuICAgLy8gdGhpcy5fcG9wdXBFcnJvcnMgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fcG9wdXBFcnJvclNlbGVjdG9yKSk7XG4gICAvLyB0aGlzLl9wb3B1cElucHV0cyA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3Rvcik7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9O1xuXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSlcbiAgfVxuXG4gIF9hZGREaXNhYmxlZEJ1dHRvbigpIHtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIH1cblxuICBfcmVtb3ZlRGlzYWJsZWRCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgfVxuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2FkZERpc2FibGVkQnV0dG9uKClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcmVtb3ZlRGlzYWJsZWRCdXR0b24oKVxuICAgIH1cbiAgfVxuXG4gIHJlc2V0RXJyb3JQb3B1cElucHV0KCkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgfTtcblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gIFxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIFxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICBvcGVuKCkge1xuICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIH1cbiAgXG4gICAgY2xvc2UoKSB7XG4gICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgfVxuICBcbiAgICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XG4gICAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfVxuICBcbiAgICBfaGFuZGxlQ2xpY2tPdmVybGF5UG9wdXAgPSAoZXZ0KSA9PiB7XG4gICAgICBpZiAoZXZ0LnRhcmdldCA9PT0gdGhpcy5fcG9wdXApIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cblxuICAgIH1cblxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgY29uc3QgcG9wdXBDbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faWNvbi1jbG9zZScpO1xuICAgICAgcG9wdXBDbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfSk7XG4gIFxuICAgICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlQ2xpY2tPdmVybGF5UG9wdXApO1xuICAgIH1cbiAgfSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBcbiAgICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xuICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgICB0aGlzLl9mb3JtUG9wdXAgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcbiAgICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIH1cbiAgXG4gICAgZ2V0Rm9ybVBvcHVwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9ybVBvcHVwO1xuICAgICAgfVxuICAgIFxuICAgICAgX2dldElucHV0VmFsdWVzKCkge1xuICAgICAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuX2Zvcm1WYWx1ZXMpXG4gICAgICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xuICAgICAgfVxuICAgIFxuICAgICAgc2V0SW5wdXRWYWx1ZXMoaW5wdXRPYmplY3QpIHtcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaW5wdXQgPT4gaW5wdXQudmFsdWUgPSBpbnB1dE9iamVjdFtpbnB1dC5uYW1lXSk7XG4gICAgICB9XG4gICAgXG4gICAgICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICBcbiAgICAgICAgdGhpcy5fZm9ybVBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgXG4gICAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5fZm9ybVBvcHVwLnJlc2V0KCk7XG4gICAgICAgIHN1cGVyLmNsb3NlKClcbiAgICAgIH1cbiAgICB9IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlLWZvdG8nKTtcbiAgICAgICAgdGhpcy5faW1hZ2VOYW1lID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX190ZXh0JylcbiAgICB9XG5cbiAgICBvcGVuKGNhcmRJbWFnZSkge1xuICAgICAgICB0aGlzLl9pbWFnZS5zcmMgPSBjYXJkSW1hZ2UubGluaztcbiAgICAgICAgdGhpcy5faW1hZ2UuYWx0ID0gY2FyZEltYWdlLm5hbWU7XG4gICAgICAgIHRoaXMuX2ltYWdlTmFtZS50ZXh0Q29udGVudCA9IGNhcmRJbWFnZS5uYW1lO1xuICAgICAgICBzdXBlci5vcGVuKClcbiAgICAgIH1cbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Zvcm1Qb3B1cCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xuICAgIHRoaXMuX2J1dHRvblBvcHVwID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24tc2F2ZScpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2luaXRpYWxUZXh0ID0gdGhpcy5fYnV0dG9uUG9wdXAudGV4dENvbnRlbnQ7XG4gIH1cblxuICBvcGVuKGRhdGFPYmopIHtcbiAgICB0aGlzLl9jYXJkSWQgPSBkYXRhT2JqLl9pZDtcbiAgICBzdXBlci5vcGVuKClcbiAgfVxuXG4gIF9nZXRDYXJkSWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhcmRJZFxuICB9XG4gIFxuICAgLy/QvNC10YLQvtC0INC00L7QsdCw0LLQu9GP0LXRgiDQvtCx0YDQsNCx0L7RgtGH0LjQuiDQutC70LjQutCwINC40LrQvtC90LrQtSDQt9Cw0LrRgNGL0YLQuNGPINC4INC00L7QsdCw0LLQu9GP0LXRgiDQvtCx0YDQsNCx0L7RgtGH0LjQuiDRgdCw0LHQvNC40YLQsCDRhNC+0YDQvNGLLlxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5fZm9ybVBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fYnV0dG9uUG9wdXAudGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRDYXJkSWQoKSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuX2J1dHRvblBvcHVwLnRleHRDb250ZW50ID0gdGhpcy5faW5pdGlhbFRleHQ7XG4gICAgICAgIH0pIC8vINCyINC70Y7QsdC+0Lwg0YHQu9GD0YfQsNC1INC80LXQvdGP0LXRgtGB0Y8g0YLQtdC60YHRgiDQutC90L7Qv9C60Lgg0L7QsdGA0LDRgtC90L4g0L3QsCDQvdCw0YfQsNC70YzQvdGL0Lkg0LIgYGZpbmFsbHlgXG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9mb3JtUG9wdXAucmVzZXQoKTtcbiAgICBzdXBlci5jbG9zZSgpXG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcblxuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIHNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgfVxuXG4gIFxuICByZW5kZXJJdGVtcyhpdGVtcykge1xuICAgIGl0ZW1zLnJldmVyc2UoKS5mb3JFYWNoKGl0ZW0gPT4gdGhpcy5fcmVuZGVyZXIoaXRlbSkpXG4gIH1cblxuICBcbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gICAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yLCBhdmF0YXJTZWxlY3RvciB9KSB7XG4gICAgICAgIHRoaXMuX25hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xuICAgICAgICB0aGlzLl9hYm91dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5fYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xuICAgIH1cblxuICAgIC8qZ2V0VXNlckluZm8oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCxcbiAgICAgICAgICAgIGFib3V0OiB0aGlzLl9hYm91dEVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICAgIH07XG4gICAgICB9Ki9cblxuICAgICAgZ2V0VXNlckluZm8oKSB7XG4gICAgICAgIHRoaXMuX3Byb2ZpbGVPYmplY3QgPSB7IH07XG4gICAgICAgIHRoaXMuX3Byb2ZpbGVPYmplY3QubmFtZSA9IHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50O1xuICAgICAgICB0aGlzLl9wcm9maWxlT2JqZWN0LmFib3V0ID0gdGhpcy5fYWJvdXRFbGVtZW50LnRleHRDb250ZW50O1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvZmlsZU9iamVjdDtcbiAgICAgIH1cblxuICAgICAgc2V0VXNlckluZm8oZm9ybURhdGEpIHtcbiAgICAgICAgdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBmb3JtRGF0YS5uYW1lO1xuICAgICAgICB0aGlzLl9hYm91dEVsZW1lbnQudGV4dENvbnRlbnQgPSBmb3JtRGF0YS5hYm91dDtcbiAgICAgICAgdGhpcy5fYXZhdGFyRWxlbWVudC5zcmMgPSBmb3JtRGF0YS5hdmF0YXI7XG4gICAgICB9XG5cbiAgICAgIHNldFVzZXJJZChmb3JtRGF0YSkge1xuICAgICAgICByZXR1cm4gZm9ybURhdGEuX2lkXG4gICAgICB9XG5cbiAgICAgIHVzZXJJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xuICAgICAgfVxuXG4gICAgICBzZXRVc2VyQXZhdGFyKGF2YXRhckRhdGEpIHtcbiAgICAgICAgdGhpcy5fYXZhdGFyU2VsZWN0b3Iuc3JjID0gYXZhdGFyRGF0YS5hdmF0YXI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgIiwiaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzJztcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcblxuaW1wb3J0IHtcbiAgdmFsaWRhdGlvbkNvbmZpZyxcbiAgYnV0dG9uRWRpdCxcbiAgYnV0dG9uQWRkLFxuICBhdmF0YXJFZGl0LFxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuXG5pbXBvcnQgJy4vaW5kZXguY3NzJztcblxubGV0IHVzZXJJZDtcbmxldCBjYXJkRGVsZXRlO1xuXG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICB1cmw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTUyJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICBhdXRob3JpemF0aW9uOiAnZGYxMmVkMDEtZjY5My00YjVlLWI2ZmUtYWE0NjJkMGQ1YjU4JyxcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICB9LFxufSlcblxuLy/QrdC60LfQtdC80L/Qu9GP0YAg0LrQu9Cw0YHRgdCwIFNlY3Rpb25cbmNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbih7XG4gIHJlbmRlcmVyOiAoZGF0YU9iaikgPT4ge1xuICAgIHNlY3Rpb24uYWRkSXRlbShjcmVhdGVDYXJkKGRhdGFPYmopKTtcbiAgfX0sXG4gICcuZWxlbWVudHMnXG4pXG5cbi8v0KHQvtC30LTQsNGR0Lwg0LzQsNGB0YHQuNCyINGBINC/0YDQvtC80LjRgdCw0LzQuFxuY29uc3QgYXJyYXlQcm9taXNlcyA9IFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXTtcblByb21pc2UuYWxsKGFycmF5UHJvbWlzZXMpXG4gIC50aGVuKChbdXNlckRhdGEsIGNhcmRzXSkgPT4ge1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhKTtcbiAgICB1c2VySW5mby5zZXRVc2VySWQodXNlckRhdGEpO1xuICAgIHVzZXJJZCA9IHVzZXJEYXRhLl9pZFxuICAgIHNlY3Rpb24ucmVuZGVySXRlbXMoY2FyZHMpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApXG4gIH0pO1xuXG4gLy/RhNGD0L3QutGG0LjRjyDRgdC+0LfQtNCw0L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YU9iaikge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoZGF0YU9iaiwgJy50ZW1wbGF0ZScsIHtcbiAgICBoYW5kbGVDYXJkQ2xpY2s6ICgpID0+IHtcbiAgICAgIHBvcHVwV2l0aEltYWdlLm9wZW4oZGF0YU9iailcbiAgICB9LFxuXG4gICAgaGFuZGxlQWRkTGlrZTogKCkgPT4ge1xuICAgICAgYXBpLmFkZExpa2VDYXJkKGRhdGFPYmouX2lkKVxuICAgICAgLnRoZW4oZGF0YU9iaiA9PiB7XG4gICAgICAgIGNhcmQuc2V0TGlrZUluZm8oZGF0YU9iai5saWtlcyk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0LTQvtCx0LDQstC70LXQvdC40LggTGlrZSDQutCw0YDRgtC+0YfQutC4JywgZXJyKTtcbiAgICB9KTt9LFxuXG4gICAgaGFuZGxlUmVtb3ZlTGlrZTogKCkgPT4ge1xuICAgICAgYXBpLnJlbW92ZUxpa2VDYXJkKGRhdGFPYmouX2lkKVxuICAgICAgLnRoZW4oZGF0YU9iaiA9PiB7XG4gICAgICAgIGNhcmQuc2V0TGlrZUluZm8oZGF0YU9iai5saWtlcyk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0YPQtNCw0LvQtdC90LjQuCBMaWtlINC60LDRgNGC0L7Rh9C60LgnLCBlcnIpO1xuICAgIH0pO30sXG5cbiAgICBoYW5kbGVEZWxldGVCdXRvb25DbGljazogKCkgPT4ge1xuICAgICAgcG9wdXBDb25maXJtRm9ybS5vcGVuKGRhdGFPYmopO1xuICAgICAgY2FyZERlbGV0ZSA9IGNhcmRcbiAgICB9XG4gIH0sXG4gIHVzZXJJZFxuICApO1xuICBjb25zdCBuZXdDYXJkID0gY2FyZC5jcmVhdGVDYXJkKCk7XG4gIHJldHVybiBuZXdDYXJkO1xufVxuXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwX2ltYWdlJylcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmJ1dHRvbkFkZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcG9wdXBBZGRGb3JtLm9wZW4oKTtcbiAgY29uc3QgZm9ybUFkZCA9IHBvcHVwQWRkRm9ybS5nZXRGb3JtUG9wdXAoKTtcbiAgZm9ybVZhbGlkYXRvcnNbIGZvcm1BZGQuZ2V0QXR0cmlidXRlKCduYW1lJykgXS5yZXNldFZhbGlkYXRpb24oKVxufSk7XG5cbmNvbnN0IHBvcHVwQWRkRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogJy5wb3B1cC1hZGQnLFxuICBoYW5kbGVGb3JtU3VibWl0OiAoY2FyZCkgID0+IHtcbiAgICByZXR1cm4gYXBpLmNyZWF0ZUNhcmQoY2FyZC5uYW1lLCBjYXJkLmxpbmspXG4gICAgLnRoZW4oZm9ybURhdGEgPT4ge1xuICAgICAgc2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQoZm9ybURhdGEpKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygn0J7RiNC40LHQutCwINC/0YDQuCDQtNC+0LHQsNCy0LvQtdC90LjQuCDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LgnLCBlcnIpO1xuICAgIH0pXG4gIH1cbn0pO1xucG9wdXBBZGRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBuYW1lU2VsZWN0b3I6ICcucHJvZmlsZV9fbmFtZScsXG4gIGpvYlNlbGVjdG9yOiAnLnByb2ZpbGVfX2Fib3V0JyxcbiAgYXZhdGFyU2VsZWN0b3I6ICcucHJvZmlsZV9fYXZhdGFyJyxcbn0pO1xuXG5jb25zdCBwb3B1cEVkaXRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiAnLnBvcHVwLWVkaXQnLFxuICBoYW5kbGVGb3JtU3VibWl0OiAodXNlcikgID0+IHtcbiAgICByZXR1cm4gYXBpLmVkaXRVc2VySW5mbyh1c2VyLm5hbWUsIHVzZXIuYWJvdXQpXG4gICAgLnRoZW4oKGZvcm1EYXRhKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhmb3JtRGF0YSk7XG4gICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQuCDQv9GA0L7RhNC40LvRjycsIGVycik7XG4gICAgfSlcbiAgICB9LFxuICB9KTtcbnBvcHVwRWRpdEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuYnV0dG9uRWRpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcG9wdXBFZGl0Rm9ybS5vcGVuKCk7XG4gIGNvbnN0IGZvcm1FZGl0ID0gcG9wdXBFZGl0Rm9ybS5nZXRGb3JtUG9wdXAoKTtcbiAgY29uc3Qgb2JqZWN0UHJvZmlsZSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIHBvcHVwRWRpdEZvcm0uc2V0SW5wdXRWYWx1ZXMob2JqZWN0UHJvZmlsZSk7XG4gIGZvcm1WYWxpZGF0b3JzWyBmb3JtRWRpdC5nZXRBdHRyaWJ1dGUoJ25hbWUnKSBdLnJlc2V0VmFsaWRhdGlvbigpXG59KTtcblxuLy/QntGC0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCDRgSDRhNC+0YDQvNC+0Lkg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQsNCy0LDRgtCw0YDQsFxuYXZhdGFyRWRpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcG9wdXBBdmF0YXJGb3JtLm9wZW4oKTtcbiAgY29uc3QgZm9ybUF2YXRhciA9IHBvcHVwQXZhdGFyRm9ybS5nZXRGb3JtUG9wdXAoKTtcbiAgZm9ybVZhbGlkYXRvcnNbIGZvcm1BdmF0YXIuZ2V0QXR0cmlidXRlKCduYW1lJykgXS5yZXNldFZhbGlkYXRpb24oKVxufSk7XG5cbi8v0Y3QutC30LXQvNC/0LvRj9GAINGE0L7RgNC80Ysg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQsNCy0LDRgtCw0YDQsFxuY29uc3QgcG9wdXBBdmF0YXJGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiAnLnBvcHVwLWF2YXRhcicsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6ICh1c2VyRGF0YSkgID0+IHtcbiAgICByZXR1cm4gYXBpLmVkaXRVc2VyQXZhdGFyKHVzZXJEYXRhLmF2YXRhcilcbiAgICAudGhlbihmb3JtRGF0YSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKGZvcm1EYXRhKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygn0J7RiNC40LHQutCwINC/0YDQuCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC4INCw0LLQsNGC0LDRgNCwJywgZXJyKTtcbiAgICB9KVxuICB9LFxufSk7XG5wb3B1cEF2YXRhckZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy/RjdC60LfQtdC80L/Qu9GP0YAg0YTQvtGA0LzRiyDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjRjyDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbmNvbnN0IHBvcHVwQ29uZmlybUZvcm0gPSBuZXcgUG9wdXBXaXRoQ29uZmlybSh7XG4gIHBvcHVwU2VsZWN0b3I6ICcucG9wdXAtY29uZmlybScsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChjYXJkSWQpICA9PiB7XG4gICAgcmV0dXJuIGFwaS5kZWxldGVDYXJkKGNhcmRJZClcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBjYXJkRGVsZXRlLmhhbmRsZURlbGV0ZUNhcmQoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygn0J7RiNC40LHQutCwINC/0YDQuCDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjQuCDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LgnLCBlcnIpO1xuICAgIH0pXG4gIH0sXG59KTtcbnBvcHVwQ29uZmlybUZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fVxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3RvcikpXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtRWxlbWVudClcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpXG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xuICAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4gIH0pO1xufTtcblxuZW5hYmxlVmFsaWRhdGlvbih2YWxpZGF0aW9uQ29uZmlnKTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICB0aGlzLl91cmwgPSBjb25maWcudXJsO1xuICAgICAgICB0aGlzLl9oZWFkZXIgPSBjb25maWcuaGVhZGVycztcbiAgICB9XG5cbiAgICBfcmVxdWVzdFJlc3VsdChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgICAgIGDQntGI0LjQsdC60LAgJHtyZXNwb25zZS5zdGF0dXN9IC0gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8v0JfQsNC/0YDQvtGBINC60LDRgNGC0L7Rh9C10Log0YEg0YHQtdC10YDQstC10YDQsFxuICAgICAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHtcbiAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJ9KVxuICAgICAgICAgIC50aGVuKHRoaXMuX3JlcXVlc3RSZXN1bHQpXG4gICAgICB9XG5cbiAgICAgIC8v0JfQsNC/0YDQvtGBINC00LDQvdC90YvRhSDQv9GA0L7RhNC40LvRjyDRgSDRgdC10LXRgNCy0LXRgNCwXG4gICAgICBnZXRVc2VySW5mbygpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJ9KVxuICAgICAgICAgICAgLnRoZW4odGhpcy5fcmVxdWVzdFJlc3VsdClcbiAgICB9XG5cbiAgICBlZGl0VXNlckluZm8obmFtZSwgYWJvdXQpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXIsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWUsIGFib3V0IH0pXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHRoaXMuX3JlcXVlc3RSZXN1bHQpXG4gICAgfVxuXG4gICAgZWRpdFVzZXJBdmF0YXIoYXZhdGFyKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcixcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYXZhdGFyIH0pXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHRoaXMuX3JlcXVlc3RSZXN1bHQpXG4gICAgfVxuXG4gICAgY3JlYXRlQ2FyZChuYW1lLCBsaW5rKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXIsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWUsIGxpbmsgfSlcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4odGhpcy5fcmVxdWVzdFJlc3VsdClcbiAgICB9XG5cbiAgICBhZGRMaWtlQ2FyZChjYXJkSWQpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcixcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4odGhpcy5fcmVxdWVzdFJlc3VsdClcbiAgICAgIH1cbiAgICBcbiAgICAgIHJlbW92ZUxpa2VDYXJkKGNhcmRJZCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXIsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHRoaXMuX3JlcXVlc3RSZXN1bHQpXG4gICAgICB9XG4gICAgXG4gICAgXG4gICAgICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhjYXJkSWQpXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcixcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4odGhpcy5fcmVxdWVzdFJlc3VsdClcbiAgICAgIH1cbn0iLCJleHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ9CQ0YDRhdGL0LcnLFxuICAgICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICfQp9C10LvRj9Cx0LjQvdGB0LrQsNGPINC+0LHQu9Cw0YHRgtGMJyxcbiAgICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAn0JjQstCw0L3QvtCy0L4nLFxuICAgICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2l2YW5vdm8uanBnJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAn0JrQsNC80YfQsNGC0LrQsCcsXG4gICAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2FtY2hhdGthLmpwZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ9Cl0L7Qu9C80L7Qs9C+0YDRgdC60LjQuSDRgNCw0LnQvtC9JyxcbiAgICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAn0JHQsNC50LrQsNC7JyxcbiAgICAgICAgbGluazogJ2h0dHBzOi8vYWxsLWFmb3Jpem15LnJ1L3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDIyLzAyL3NjYWxlXzEyMDAtOC5qcGcnXG4gICAgfVxuXTtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XG4gICAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcbiAgICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19pbnB1dCcsXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbi1zYXZlJyxcbiAgICBwb3B1cEVycm9yU2VsZWN0b3I6ICcucG9wdXBfX2Vycm9yJyxcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX2J1dHRvbi1zYXZlX2Rpc2FibGVkJyxcbiAgICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXG4gICAgZXJyb3JDbGFzczogJ3BvcHVwX19lcnJvcl92aXNpYmxlJ1xufTtcblxuZXhwb3J0IGNvbnN0IGltYWdlRm90byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UtZm90bycpO1xuZXhwb3J0IGNvbnN0IHBvcHVwSW1hZ2VOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX190ZXh0Jyk7XG5leHBvcnQgY29uc3QgYnV0dG9uRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvbkFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyk7XG5leHBvcnQgY29uc3QgYXZhdGFyRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTsiXSwibmFtZXMiOlsiQ2FyZCIsImRhdGFPYmoiLCJjYXJkU2VsZWN0b3IiLCJ1c2VySWQiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVBZGRMaWtlIiwiaGFuZGxlUmVtb3ZlTGlrZSIsImhhbmRsZURlbGV0ZUJ1dG9vbkNsaWNrIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUFkZExpa2UiLCJfaGFuZGxlUmVtb3ZlTGlrZSIsIl9oYW5kbGVEZWxldGVCdXRvb25DbGljayIsIl91c2VySWQiLCJfbGlrZUFycmF5IiwibGlrZXMiLCJfb3duZXIiLCJvd25lciIsIl9saWtlcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsInJlbW92ZSIsIl9saWtlQnV0dG9uIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJhcnJheSIsImZpbmQiLCJpdGVtIiwiX2lkIiwiYWRkIiwidG9nZ2xlIiwiX2RlbGV0ZUJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJfYWRkTGlrZSIsIl9jYXJkSW1hZ2UiLCJfbGlrZUNvdW50IiwidGV4dENvbnRlbnQiLCJsZW5ndGgiLCJfc2V0U3RhdGVMaWtlIiwiX2dldFRlbXBsYXRlIiwiX2NhcmROYW1lIiwic3JjIiwiYWx0IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiRm9ybVZhbGlkYXRvciIsInZhbGlkIiwiZm9ybUVsZW1lbnQiLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfcG9wdXBFcnJvclNlbGVjdG9yIiwicG9wdXBFcnJvclNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtRWxlbWVudCIsIl9idXR0b25FbGVtZW50IiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwidmFsaWRpdHkiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJzb21lIiwiZGlzYWJsZWQiLCJfaGFzSW52YWxpZElucHV0IiwiX2FkZERpc2FibGVkQnV0dG9uIiwiX3JlbW92ZURpc2FibGVkQnV0dG9uIiwiZm9yRWFjaCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJldnQiLCJrZXkiLCJjbG9zZSIsInRhcmdldCIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlQ2xpY2tPdmVybGF5UG9wdXAiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtUG9wdXAiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsImNvbnNvbGUiLCJsb2ciLCJpbnB1dE9iamVjdCIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJQb3B1cFdpdGhJbWFnZSIsIl9pbWFnZSIsIl9pbWFnZU5hbWUiLCJjYXJkSW1hZ2UiLCJQb3B1cFdpdGhDb25maXJtIiwiX2J1dHRvblBvcHVwIiwiX2luaXRpYWxUZXh0IiwiX2NhcmRJZCIsIl9nZXRDYXJkSWQiLCJ0aGVuIiwiZmluYWxseSIsIlNlY3Rpb24iLCJzZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW1zIiwicmV2ZXJzZSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWVFbGVtZW50IiwiX2Fib3V0RWxlbWVudCIsIl9hdmF0YXJFbGVtZW50IiwiX3Byb2ZpbGVPYmplY3QiLCJhYm91dCIsImZvcm1EYXRhIiwiYXZhdGFyIiwiYXZhdGFyRGF0YSIsIl9hdmF0YXJTZWxlY3RvciIsImNhcmREZWxldGUiLCJBcGkiLCJjb25maWciLCJfdXJsIiwidXJsIiwiX2hlYWRlciIsImhlYWRlcnMiLCJyZXNwb25zZSIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiZmV0Y2giLCJfcmVxdWVzdFJlc3VsdCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElkIiwiYnV0dG9uRWRpdCIsImJ1dHRvbkFkZCIsImF2YXRhckVkaXQiLCJhcGkiLCJhdXRob3JpemF0aW9uIiwic2VjdGlvbiIsImFkZEl0ZW0iLCJjcmVhdGVDYXJkIiwiYXJyYXlQcm9taXNlcyIsImdldFVzZXJJbmZvIiwiZ2V0SW5pdGlhbENhcmRzIiwiY2FyZCIsInBvcHVwV2l0aEltYWdlIiwib3BlbiIsImFkZExpa2VDYXJkIiwic2V0TGlrZUluZm8iLCJjYXRjaCIsImVyciIsInJlbW92ZUxpa2VDYXJkIiwicG9wdXBDb25maXJtRm9ybSIsImFsbCIsInVzZXJEYXRhIiwiY2FyZHMiLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwic2V0VXNlcklkIiwicmVuZGVySXRlbXMiLCJzZXRFdmVudExpc3RlbmVycyIsInBvcHVwQWRkRm9ybSIsImZvcm1BZGQiLCJnZXRGb3JtUG9wdXAiLCJmb3JtVmFsaWRhdG9ycyIsImdldEF0dHJpYnV0ZSIsInJlc2V0VmFsaWRhdGlvbiIsInBvcHVwRWRpdEZvcm0iLCJ1c2VyIiwiZWRpdFVzZXJJbmZvIiwiZm9ybUVkaXQiLCJvYmplY3RQcm9maWxlIiwic2V0SW5wdXRWYWx1ZXMiLCJwb3B1cEF2YXRhckZvcm0iLCJmb3JtQXZhdGFyIiwiZWRpdFVzZXJBdmF0YXIiLCJzZXRVc2VyQXZhdGFyIiwiZGVsZXRlQ2FyZCIsImhhbmRsZURlbGV0ZUNhcmQiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9